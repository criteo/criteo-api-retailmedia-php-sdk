<?php
/**
 * CampaignApi
 * PHP version 7.4
 *
 * @category Class
 * @package  criteo\api\retailmedia\v2023_04
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */

/**
 * Criteo API
 *
 * Criteo API - RetailMedia
 *
 * The version of the OpenAPI document: 2023-04
 * Generated by: https://openapi-generator.tech
 * OpenAPI Generator version: 6.3.0
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

namespace criteo\api\retailmedia\v2023_04\Api;

use GuzzleHttp\Client;
use GuzzleHttp\ClientInterface;
use GuzzleHttp\Exception\ConnectException;
use GuzzleHttp\Exception\RequestException;
use GuzzleHttp\Psr7\MultipartStream;
use GuzzleHttp\Psr7\Request;
use GuzzleHttp\RequestOptions;
use criteo\api\retailmedia\v2023_04\ApiException;
use criteo\api\retailmedia\v2023_04\Configuration;
use criteo\api\retailmedia\v2023_04\HeaderSelector;
use criteo\api\retailmedia\v2023_04\ObjectSerializer;

/**
 * CampaignApi Class Doc Comment
 *
 * @category Class
 * @package  criteo\api\retailmedia\v2023_04
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */
class CampaignApi
{
    /**
     * @var ClientInterface
     */
    protected $client;

    /**
     * @var Configuration
     */
    protected $config;

    /**
     * @var HeaderSelector
     */
    protected $headerSelector;

    /**
     * @var int Host index
     */
    protected $hostIndex;

    /** @var string[] $contentTypes **/
    public const contentTypes = [
        'addRemoveKeywords' => [
            'application/json',
        ],
        'createAsset' => [
            'multipart/form-data',
        ],
        'fetchKeywords' => [
            'application/json',
        ],
        'fetchProposal' => [
            'application/json',
        ],
        'getApi202110ExternalAccountBalancesByAccountId' => [
            'application/json',
        ],
        'getApi202110ExternalAccountCreativesByAccountId' => [
            'application/json',
        ],
        'getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId' => [
            'application/json',
        ],
        'getApi202110ExternalBalanceCampaignsByBalanceId' => [
            'application/json',
        ],
        'getApi202110ExternalCampaignPreferredLineItemsByCampaignId' => [
            'application/json',
        ],
        'getApi202110ExternalLineItemProductsByLineItemId' => [
            'application/json',
        ],
        'getApi202110ExternalPreferredLineItemByLineItemId' => [
            'application/json',
        ],
        'getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId' => [
            'application/json',
        ],
        'getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId' => [
            'application/json',
        ],
        'getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId' => [
            'application/json',
        ],
        'getApi202110ExternalRetailerPagesByRetailerId' => [
            'application/json',
        ],
        'getApi202204ExternalCategorieByCategoryId' => [
            'application/json',
        ],
        'getApi202204ExternalCategories' => [
            'application/json',
        ],
        'getApi202207ExternalRetailerByRetailerIdTemplatestemplateId' => [
            'application/json',
        ],
        'getApi202207ExternalRetailerTemplatesByRetailerId' => [
            'application/json',
        ],
        'getApi202210ExternalAccountByAccountIdCreativescreativeId' => [
            'application/json',
        ],
        'getApi202301ExternalAccountCampaignsByAccountId' => [
            'application/json',
        ],
        'getApi202301ExternalCampaignByCampaignId' => [
            'application/json',
        ],
        'getApi202301ExternalLineItemBidMultipliersByLineItemId' => [
            'application/json',
        ],
        'getApiV1ExternalAccountBrandsByAccountId' => [
            'application/json',
        ],
        'getApiV1ExternalAccountRetailersByAccountId' => [
            'application/json',
        ],
        'getApiV1ExternalAccounts' => [
            'application/json',
        ],
        'getApiV1ExternalCatalogOutputByCatalogId' => [
            'application/json',
        ],
        'getApiV1ExternalCatalogStatusByCatalogId' => [
            'application/json',
        ],
        'getApiV2ExternalAccountLineItemsByAccountId' => [
            'application/json',
        ],
        'getApiV2ExternalAuctionLineItemByLineItemId' => [
            'application/json',
        ],
        'getApiV2ExternalCampaignAuctionLineItemsByCampaignId' => [
            'application/json',
        ],
        'getApiV2ExternalLineItemByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalBalanceCampaignsAppendByBalanceId' => [
            'application/json',
        ],
        'postApi202110ExternalBalanceCampaignsDeleteByBalanceId' => [
            'application/json',
        ],
        'postApi202110ExternalCampaignPreferredLineItemsByCampaignId' => [
            'application/json',
        ],
        'postApi202110ExternalLineItemProductsAppendByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalLineItemProductsDeleteByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalLineItemProductsPauseByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalLineItemProductsUnpauseByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId' => [
            'application/json',
        ],
        'postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId' => [
            'application/json',
        ],
        'postApi202210ExternalAccountCreativesByAccountId' => [
            'application/json',
        ],
        'postApi202210ExternalAccountCreativesSearchByAccountId' => [
            'application/json',
        ],
        'postApi202301ExternalAccountCampaignsByAccountId' => [
            'application/json',
        ],
        'postApiV1ExternalAccountCatalogsByAccountId' => [
            'application/json',
        ],
        'postApiV2ExternalCampaignAuctionLineItemsByCampaignId' => [
            'application/json',
        ],
        'putApi202110ExternalPreferredLineItemByLineItemId' => [
            'application/json',
        ],
        'putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId' => [
            'application/json',
        ],
        'putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId' => [
            'application/json',
        ],
        'putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId' => [
            'application/json',
        ],
        'putApi202210ExternalAccountByAccountIdCreativescreativeId' => [
            'application/json',
        ],
        'putApi202301ExternalCampaignByCampaignId' => [
            'application/json',
        ],
        'putApi202301ExternalLineItemBidMultipliersByLineItemId' => [
            'application/json',
        ],
        'putApiV2ExternalAuctionLineItemByLineItemId' => [
            'application/json',
        ],
        'setKeywordBids' => [
            'application/json',
        ],
        'submitProposal' => [
            'application/json',
        ],
    ];

/**
     * @param ClientInterface $client
     * @param Configuration   $config
     * @param HeaderSelector  $selector
     * @param int             $hostIndex (Optional) host index to select the list of hosts if defined in the OpenAPI spec
     */
    public function __construct(
        ClientInterface $client = null,
        Configuration $config = null,
        HeaderSelector $selector = null,
        $hostIndex = 0
    ) {
        $this->client = $client ?: new Client();
        $this->config = $config ?: new Configuration();
        $this->headerSelector = $selector ?: new HeaderSelector();
        $this->hostIndex = $hostIndex;
    }

    /**
     * Set the host index
     *
     * @param int $hostIndex Host index (required)
     */
    public function setHostIndex($hostIndex): void
    {
        $this->hostIndex = $hostIndex;
    }

    /**
     * Get the host index
     *
     * @return int Host index
     */
    public function getHostIndex()
    {
        return $this->hostIndex;
    }

    /**
     * @return Configuration
     */
    public function getConfig()
    {
        return $this->config;
    }

    /**
     * Operation addRemoveKeywords
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1AddRemoveKeywordsModelRequest $retail_media_externalv1_add_remove_keywords_model_request Object containing keywords to be added or removed (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addRemoveKeywords'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome
     */
    public function addRemoveKeywords($id, $retail_media_externalv1_add_remove_keywords_model_request = null, string $contentType = self::contentTypes['addRemoveKeywords'][0])
    {
        list($response) = $this->addRemoveKeywordsWithHttpInfo($id, $retail_media_externalv1_add_remove_keywords_model_request, $contentType);
        return $response;
    }

    /**
     * Operation addRemoveKeywordsWithHttpInfo
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1AddRemoveKeywordsModelRequest $retail_media_externalv1_add_remove_keywords_model_request Object containing keywords to be added or removed (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addRemoveKeywords'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome, HTTP status code, HTTP response headers (array of strings)
     */
    public function addRemoveKeywordsWithHttpInfo($id, $retail_media_externalv1_add_remove_keywords_model_request = null, string $contentType = self::contentTypes['addRemoveKeywords'][0])
    {
        $request = $this->addRemoveKeywordsRequest($id, $retail_media_externalv1_add_remove_keywords_model_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation addRemoveKeywordsAsync
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1AddRemoveKeywordsModelRequest $retail_media_externalv1_add_remove_keywords_model_request Object containing keywords to be added or removed (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addRemoveKeywords'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function addRemoveKeywordsAsync($id, $retail_media_externalv1_add_remove_keywords_model_request = null, string $contentType = self::contentTypes['addRemoveKeywords'][0])
    {
        return $this->addRemoveKeywordsAsyncWithHttpInfo($id, $retail_media_externalv1_add_remove_keywords_model_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation addRemoveKeywordsAsyncWithHttpInfo
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1AddRemoveKeywordsModelRequest $retail_media_externalv1_add_remove_keywords_model_request Object containing keywords to be added or removed (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addRemoveKeywords'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function addRemoveKeywordsAsyncWithHttpInfo($id, $retail_media_externalv1_add_remove_keywords_model_request = null, string $contentType = self::contentTypes['addRemoveKeywords'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome';
        $request = $this->addRemoveKeywordsRequest($id, $retail_media_externalv1_add_remove_keywords_model_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'addRemoveKeywords'
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1AddRemoveKeywordsModelRequest $retail_media_externalv1_add_remove_keywords_model_request Object containing keywords to be added or removed (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addRemoveKeywords'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function addRemoveKeywordsRequest($id, $retail_media_externalv1_add_remove_keywords_model_request = null, string $contentType = self::contentTypes['addRemoveKeywords'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling addRemoveKeywords'
            );
        }



        $resourcePath = '/2023-04/retail-media/line-items/{id}/keywords/add-remove';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($retail_media_externalv1_add_remove_keywords_model_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($retail_media_externalv1_add_remove_keywords_model_request));
            } else {
                $httpBody = $retail_media_externalv1_add_remove_keywords_model_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createAsset
     *
     * @param  \SplFileObject $asset_file The asset binary content (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAsset'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AssetResponse
     */
    public function createAsset($asset_file, string $contentType = self::contentTypes['createAsset'][0])
    {
        list($response) = $this->createAssetWithHttpInfo($asset_file, $contentType);
        return $response;
    }

    /**
     * Operation createAssetWithHttpInfo
     *
     * @param  \SplFileObject $asset_file The asset binary content (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAsset'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AssetResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function createAssetWithHttpInfo($asset_file, string $contentType = self::contentTypes['createAsset'][0])
    {
        $request = $this->createAssetRequest($asset_file, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AssetResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AssetResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AssetResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AssetResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AssetResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation createAssetAsync
     *
     * @param  \SplFileObject $asset_file The asset binary content (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAsset'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAssetAsync($asset_file, string $contentType = self::contentTypes['createAsset'][0])
    {
        return $this->createAssetAsyncWithHttpInfo($asset_file, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createAssetAsyncWithHttpInfo
     *
     * @param  \SplFileObject $asset_file The asset binary content (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAsset'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createAssetAsyncWithHttpInfo($asset_file, string $contentType = self::contentTypes['createAsset'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AssetResponse';
        $request = $this->createAssetRequest($asset_file, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createAsset'
     *
     * @param  \SplFileObject $asset_file The asset binary content (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createAsset'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createAssetRequest($asset_file, string $contentType = self::contentTypes['createAsset'][0])
    {

        // verify the required parameter 'asset_file' is set
        if ($asset_file === null || (is_array($asset_file) && count($asset_file) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $asset_file when calling createAsset'
            );
        }


        $resourcePath = '/2023-04/retail-media/assets';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;




        // form params
        if ($asset_file !== null) {
            $multipart = true;
            $formParams['AssetFile'] = [];
            $paramFiles = is_array($asset_file) ? $asset_file : [$asset_file];
            foreach ($paramFiles as $paramFile) {
                $formParams['AssetFile'][] = \GuzzleHttp\Psr7\Utils::tryFopen(
                    ObjectSerializer::toFormValue($paramFile),
                    'rb'
                );
            }
        }

        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation fetchKeywords
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchKeywords'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse
     */
    public function fetchKeywords($id, string $contentType = self::contentTypes['fetchKeywords'][0])
    {
        list($response) = $this->fetchKeywordsWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation fetchKeywordsWithHttpInfo
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchKeywords'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function fetchKeywordsWithHttpInfo($id, string $contentType = self::contentTypes['fetchKeywords'][0])
    {
        $request = $this->fetchKeywordsRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation fetchKeywordsAsync
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchKeywords'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function fetchKeywordsAsync($id, string $contentType = self::contentTypes['fetchKeywords'][0])
    {
        return $this->fetchKeywordsAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation fetchKeywordsAsyncWithHttpInfo
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchKeywords'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function fetchKeywordsAsyncWithHttpInfo($id, string $contentType = self::contentTypes['fetchKeywords'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1KeywordsModelResponse';
        $request = $this->fetchKeywordsRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'fetchKeywords'
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchKeywords'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function fetchKeywordsRequest($id, string $contentType = self::contentTypes['fetchKeywords'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling fetchKeywords'
            );
        }


        $resourcePath = '/2023-04/retail-media/line-items/{id}/keywords';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation fetchProposal
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchProposal'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse
     */
    public function fetchProposal($id, string $contentType = self::contentTypes['fetchProposal'][0])
    {
        list($response) = $this->fetchProposalWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation fetchProposalWithHttpInfo
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchProposal'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function fetchProposalWithHttpInfo($id, string $contentType = self::contentTypes['fetchProposal'][0])
    {
        $request = $this->fetchProposalRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation fetchProposalAsync
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchProposal'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function fetchProposalAsync($id, string $contentType = self::contentTypes['fetchProposal'][0])
    {
        return $this->fetchProposalAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation fetchProposalAsyncWithHttpInfo
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchProposal'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function fetchProposalAsyncWithHttpInfo($id, string $contentType = self::contentTypes['fetchProposal'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse';
        $request = $this->fetchProposalRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'fetchProposal'
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fetchProposal'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function fetchProposalRequest($id, string $contentType = self::contentTypes['fetchProposal'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling fetchProposal'
            );
        }


        $resourcePath = '/2023-04/retail-media/preferred-deal-line-items/{id}/proposal';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalAccountBalancesByAccountId
     *
     * @param  string $account_id The account to get balances for (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse
     */
    public function getApi202110ExternalAccountBalancesByAccountId($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'][0])
    {
        list($response) = $this->getApi202110ExternalAccountBalancesByAccountIdWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalAccountBalancesByAccountIdWithHttpInfo
     *
     * @param  string $account_id The account to get balances for (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalAccountBalancesByAccountIdWithHttpInfo($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'][0])
    {
        $request = $this->getApi202110ExternalAccountBalancesByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalAccountBalancesByAccountIdAsync
     *
     * @param  string $account_id The account to get balances for (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalAccountBalancesByAccountIdAsync($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'][0])
    {
        return $this->getApi202110ExternalAccountBalancesByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalAccountBalancesByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id The account to get balances for (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalAccountBalancesByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Balance202110PagedListResponse';
        $request = $this->getApi202110ExternalAccountBalancesByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalAccountBalancesByAccountId'
     *
     * @param  string $account_id The account to get balances for (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalAccountBalancesByAccountIdRequest($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalAccountBalancesByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling getApi202110ExternalAccountBalancesByAccountId'
            );
        }





        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/balances';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalAccountCreativesByAccountId
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse
     */
    public function getApi202110ExternalAccountCreativesByAccountId($account_id, string $contentType = self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'][0])
    {
        list($response) = $this->getApi202110ExternalAccountCreativesByAccountIdWithHttpInfo($account_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalAccountCreativesByAccountIdWithHttpInfo
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalAccountCreativesByAccountIdWithHttpInfo($account_id, string $contentType = self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'][0])
    {
        $request = $this->getApi202110ExternalAccountCreativesByAccountIdRequest($account_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalAccountCreativesByAccountIdAsync
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalAccountCreativesByAccountIdAsync($account_id, string $contentType = self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'][0])
    {
        return $this->getApi202110ExternalAccountCreativesByAccountIdAsyncWithHttpInfo($account_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalAccountCreativesByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalAccountCreativesByAccountIdAsyncWithHttpInfo($account_id, string $contentType = self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202110ListResponse';
        $request = $this->getApi202110ExternalAccountCreativesByAccountIdRequest($account_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalAccountCreativesByAccountId'
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalAccountCreativesByAccountIdRequest($account_id, string $contentType = self::contentTypes['getApi202110ExternalAccountCreativesByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling getApi202110ExternalAccountCreativesByAccountId'
            );
        }


        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/creatives';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response
     */
    public function getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'][0])
    {
        list($response) = $this->getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'][0])
    {
        $request = $this->getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'][0])
    {
        return $this->getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response';
        $request = $this->getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApi202110ExternalAuctionLineItemTargetingKeywordsByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/auction-line-items/{line-item-id}/targeting/keywords';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalBalanceCampaignsByBalanceId
     *
     * @param  string $balance_id The balance to get campaigns from (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse
     */
    public function getApi202110ExternalBalanceCampaignsByBalanceId($balance_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'][0])
    {
        list($response) = $this->getApi202110ExternalBalanceCampaignsByBalanceIdWithHttpInfo($balance_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalBalanceCampaignsByBalanceIdWithHttpInfo
     *
     * @param  string $balance_id The balance to get campaigns from (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalBalanceCampaignsByBalanceIdWithHttpInfo($balance_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'][0])
    {
        $request = $this->getApi202110ExternalBalanceCampaignsByBalanceIdRequest($balance_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalBalanceCampaignsByBalanceIdAsync
     *
     * @param  string $balance_id The balance to get campaigns from (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalBalanceCampaignsByBalanceIdAsync($balance_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'][0])
    {
        return $this->getApi202110ExternalBalanceCampaignsByBalanceIdAsyncWithHttpInfo($balance_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalBalanceCampaignsByBalanceIdAsyncWithHttpInfo
     *
     * @param  string $balance_id The balance to get campaigns from (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalBalanceCampaignsByBalanceIdAsyncWithHttpInfo($balance_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse';
        $request = $this->getApi202110ExternalBalanceCampaignsByBalanceIdRequest($balance_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalBalanceCampaignsByBalanceId'
     *
     * @param  string $balance_id The balance to get campaigns from (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalBalanceCampaignsByBalanceIdRequest($balance_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalBalanceCampaignsByBalanceId'][0])
    {

        // verify the required parameter 'balance_id' is set
        if ($balance_id === null || (is_array($balance_id) && count($balance_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $balance_id when calling getApi202110ExternalBalanceCampaignsByBalanceId'
            );
        }





        $resourcePath = '/2023-04/retail-media/balances/{balance-id}/campaigns';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($balance_id !== null) {
            $resourcePath = str_replace(
                '{' . 'balance-id' . '}',
                ObjectSerializer::toPathValue($balance_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalCampaignPreferredLineItemsByCampaignId
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse
     */
    public function getApi202110ExternalCampaignPreferredLineItemsByCampaignId($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        list($response) = $this->getApi202110ExternalCampaignPreferredLineItemsByCampaignIdWithHttpInfo($campaign_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalCampaignPreferredLineItemsByCampaignIdWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalCampaignPreferredLineItemsByCampaignIdWithHttpInfo($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        $request = $this->getApi202110ExternalCampaignPreferredLineItemsByCampaignIdRequest($campaign_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsync
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsync($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        return $this->getApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsyncWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110PagedListResponse';
        $request = $this->getApi202110ExternalCampaignPreferredLineItemsByCampaignIdRequest($campaign_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalCampaignPreferredLineItemsByCampaignId'
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalCampaignPreferredLineItemsByCampaignIdRequest($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {

        // verify the required parameter 'campaign_id' is set
        if ($campaign_id === null || (is_array($campaign_id) && count($campaign_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $campaign_id when calling getApi202110ExternalCampaignPreferredLineItemsByCampaignId'
            );
        }





        $resourcePath = '/2023-04/retail-media/campaigns/{campaign-id}/preferred-line-items';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($campaign_id !== null) {
            $resourcePath = str_replace(
                '{' . 'campaign-id' . '}',
                ObjectSerializer::toPathValue($campaign_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalLineItemProductsByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse
     */
    public function getApi202110ExternalLineItemProductsByLineItemId($line_item_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'][0])
    {
        list($response) = $this->getApi202110ExternalLineItemProductsByLineItemIdWithHttpInfo($line_item_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalLineItemProductsByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalLineItemProductsByLineItemIdWithHttpInfo($line_item_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'][0])
    {
        $request = $this->getApi202110ExternalLineItemProductsByLineItemIdRequest($line_item_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalLineItemProductsByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalLineItemProductsByLineItemIdAsync($line_item_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'][0])
    {
        return $this->getApi202110ExternalLineItemProductsByLineItemIdAsyncWithHttpInfo($line_item_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalLineItemProductsByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalLineItemProductsByLineItemIdAsyncWithHttpInfo($line_item_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse';
        $request = $this->getApi202110ExternalLineItemProductsByLineItemIdRequest($line_item_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalLineItemProductsByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalLineItemProductsByLineItemIdRequest($line_item_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApi202110ExternalLineItemProductsByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApi202110ExternalLineItemProductsByLineItemId'
            );
        }





        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}/products';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemByLineItemId
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response
     */
    public function getApi202110ExternalPreferredLineItemByLineItemId($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        list($response) = $this->getApi202110ExternalPreferredLineItemByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalPreferredLineItemByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        $request = $this->getApi202110ExternalPreferredLineItemByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemByLineItemIdAsync
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        return $this->getApi202110ExternalPreferredLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response';
        $request = $this->getApi202110ExternalPreferredLineItemByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalPreferredLineItemByLineItemId'
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalPreferredLineItemByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApi202110ExternalPreferredLineItemByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response
     */
    public function getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        list($response) = $this->getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        $request = $this->getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        return $this->getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
        $request = $this->getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/add-to-basket';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response
     */
    public function getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        list($response) = $this->getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        $request = $this->getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        return $this->getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
        $request = $this->getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/audiences';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response
     */
    public function getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        list($response) = $this->getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        $request = $this->getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        return $this->getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
        $request = $this->getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/stores';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202110ExternalRetailerPagesByRetailerId
     *
     * @param  int $retailer_id The retailers to fetch pages for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110
     */
    public function getApi202110ExternalRetailerPagesByRetailerId($retailer_id, string $contentType = self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'][0])
    {
        list($response) = $this->getApi202110ExternalRetailerPagesByRetailerIdWithHttpInfo($retailer_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202110ExternalRetailerPagesByRetailerIdWithHttpInfo
     *
     * @param  int $retailer_id The retailers to fetch pages for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202110ExternalRetailerPagesByRetailerIdWithHttpInfo($retailer_id, string $contentType = self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'][0])
    {
        $request = $this->getApi202110ExternalRetailerPagesByRetailerIdRequest($retailer_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202110ExternalRetailerPagesByRetailerIdAsync
     *
     * @param  int $retailer_id The retailers to fetch pages for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalRetailerPagesByRetailerIdAsync($retailer_id, string $contentType = self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'][0])
    {
        return $this->getApi202110ExternalRetailerPagesByRetailerIdAsyncWithHttpInfo($retailer_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202110ExternalRetailerPagesByRetailerIdAsyncWithHttpInfo
     *
     * @param  int $retailer_id The retailers to fetch pages for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202110ExternalRetailerPagesByRetailerIdAsyncWithHttpInfo($retailer_id, string $contentType = self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\ExternalRetailerPages202110';
        $request = $this->getApi202110ExternalRetailerPagesByRetailerIdRequest($retailer_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202110ExternalRetailerPagesByRetailerId'
     *
     * @param  int $retailer_id The retailers to fetch pages for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202110ExternalRetailerPagesByRetailerIdRequest($retailer_id, string $contentType = self::contentTypes['getApi202110ExternalRetailerPagesByRetailerId'][0])
    {

        // verify the required parameter 'retailer_id' is set
        if ($retailer_id === null || (is_array($retailer_id) && count($retailer_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $retailer_id when calling getApi202110ExternalRetailerPagesByRetailerId'
            );
        }


        $resourcePath = '/2023-04/retail-media/retailers/{retailerId}/pages';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($retailer_id !== null) {
            $resourcePath = str_replace(
                '{' . 'retailerId' . '}',
                ObjectSerializer::toPathValue($retailer_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202204ExternalCategorieByCategoryId
     *
     * @param  int $category_id ID of the desired category (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategorieByCategoryId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Category202204
     */
    public function getApi202204ExternalCategorieByCategoryId($category_id, string $contentType = self::contentTypes['getApi202204ExternalCategorieByCategoryId'][0])
    {
        list($response) = $this->getApi202204ExternalCategorieByCategoryIdWithHttpInfo($category_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202204ExternalCategorieByCategoryIdWithHttpInfo
     *
     * @param  int $category_id ID of the desired category (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategorieByCategoryId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Category202204, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202204ExternalCategorieByCategoryIdWithHttpInfo($category_id, string $contentType = self::contentTypes['getApi202204ExternalCategorieByCategoryId'][0])
    {
        $request = $this->getApi202204ExternalCategorieByCategoryIdRequest($category_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Category202204' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Category202204' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Category202204', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Category202204';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Category202204',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202204ExternalCategorieByCategoryIdAsync
     *
     * @param  int $category_id ID of the desired category (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategorieByCategoryId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202204ExternalCategorieByCategoryIdAsync($category_id, string $contentType = self::contentTypes['getApi202204ExternalCategorieByCategoryId'][0])
    {
        return $this->getApi202204ExternalCategorieByCategoryIdAsyncWithHttpInfo($category_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202204ExternalCategorieByCategoryIdAsyncWithHttpInfo
     *
     * @param  int $category_id ID of the desired category (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategorieByCategoryId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202204ExternalCategorieByCategoryIdAsyncWithHttpInfo($category_id, string $contentType = self::contentTypes['getApi202204ExternalCategorieByCategoryId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Category202204';
        $request = $this->getApi202204ExternalCategorieByCategoryIdRequest($category_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202204ExternalCategorieByCategoryId'
     *
     * @param  int $category_id ID of the desired category (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategorieByCategoryId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202204ExternalCategorieByCategoryIdRequest($category_id, string $contentType = self::contentTypes['getApi202204ExternalCategorieByCategoryId'][0])
    {

        // verify the required parameter 'category_id' is set
        if ($category_id === null || (is_array($category_id) && count($category_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $category_id when calling getApi202204ExternalCategorieByCategoryId'
            );
        }


        $resourcePath = '/2023-04/retail-media/categories/{categoryId}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($category_id !== null) {
            $resourcePath = str_replace(
                '{' . 'categoryId' . '}',
                ObjectSerializer::toPathValue($category_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202204ExternalCategories
     *
     * @param  int $retailer_id The retailer id for which Categories fetched (optional)
     * @param  string $text_substring Query string to search across Categories (optional)
     * @param  int $page_index The start position in the overall list of matches. Must be zero or greater. (optional, default to 0)
     * @param  int $page_size The maximum number of results to return with each call. Must be greater than zero. (optional, default to 100)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategories'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse
     */
    public function getApi202204ExternalCategories($retailer_id = null, $text_substring = null, $page_index = 0, $page_size = 100, string $contentType = self::contentTypes['getApi202204ExternalCategories'][0])
    {
        list($response) = $this->getApi202204ExternalCategoriesWithHttpInfo($retailer_id, $text_substring, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApi202204ExternalCategoriesWithHttpInfo
     *
     * @param  int $retailer_id The retailer id for which Categories fetched (optional)
     * @param  string $text_substring Query string to search across Categories (optional)
     * @param  int $page_index The start position in the overall list of matches. Must be zero or greater. (optional, default to 0)
     * @param  int $page_size The maximum number of results to return with each call. Must be greater than zero. (optional, default to 100)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategories'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202204ExternalCategoriesWithHttpInfo($retailer_id = null, $text_substring = null, $page_index = 0, $page_size = 100, string $contentType = self::contentTypes['getApi202204ExternalCategories'][0])
    {
        $request = $this->getApi202204ExternalCategoriesRequest($retailer_id, $text_substring, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202204ExternalCategoriesAsync
     *
     * @param  int $retailer_id The retailer id for which Categories fetched (optional)
     * @param  string $text_substring Query string to search across Categories (optional)
     * @param  int $page_index The start position in the overall list of matches. Must be zero or greater. (optional, default to 0)
     * @param  int $page_size The maximum number of results to return with each call. Must be greater than zero. (optional, default to 100)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategories'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202204ExternalCategoriesAsync($retailer_id = null, $text_substring = null, $page_index = 0, $page_size = 100, string $contentType = self::contentTypes['getApi202204ExternalCategories'][0])
    {
        return $this->getApi202204ExternalCategoriesAsyncWithHttpInfo($retailer_id, $text_substring, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202204ExternalCategoriesAsyncWithHttpInfo
     *
     * @param  int $retailer_id The retailer id for which Categories fetched (optional)
     * @param  string $text_substring Query string to search across Categories (optional)
     * @param  int $page_index The start position in the overall list of matches. Must be zero or greater. (optional, default to 0)
     * @param  int $page_size The maximum number of results to return with each call. Must be greater than zero. (optional, default to 100)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategories'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202204ExternalCategoriesAsyncWithHttpInfo($retailer_id = null, $text_substring = null, $page_index = 0, $page_size = 100, string $contentType = self::contentTypes['getApi202204ExternalCategories'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Category202204ListResponse';
        $request = $this->getApi202204ExternalCategoriesRequest($retailer_id, $text_substring, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202204ExternalCategories'
     *
     * @param  int $retailer_id The retailer id for which Categories fetched (optional)
     * @param  string $text_substring Query string to search across Categories (optional)
     * @param  int $page_index The start position in the overall list of matches. Must be zero or greater. (optional, default to 0)
     * @param  int $page_size The maximum number of results to return with each call. Must be greater than zero. (optional, default to 100)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202204ExternalCategories'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202204ExternalCategoriesRequest($retailer_id = null, $text_substring = null, $page_index = 0, $page_size = 100, string $contentType = self::contentTypes['getApi202204ExternalCategories'][0])
    {



        if ($page_index !== null && $page_index > 500) {
            throw new \InvalidArgumentException('invalid value for "$page_index" when calling CampaignApi.getApi202204ExternalCategories, must be smaller than or equal to 500.');
        }
        if ($page_index !== null && $page_index < 0) {
            throw new \InvalidArgumentException('invalid value for "$page_index" when calling CampaignApi.getApi202204ExternalCategories, must be bigger than or equal to 0.');
        }
        
        if ($page_size !== null && $page_size > 100) {
            throw new \InvalidArgumentException('invalid value for "$page_size" when calling CampaignApi.getApi202204ExternalCategories, must be smaller than or equal to 100.');
        }
        if ($page_size !== null && $page_size < 1) {
            throw new \InvalidArgumentException('invalid value for "$page_size" when calling CampaignApi.getApi202204ExternalCategories, must be bigger than or equal to 1.');
        }
        

        $resourcePath = '/2023-04/retail-media/categories';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $retailer_id,
            'retailerId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $text_substring,
            'textSubstring', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202207ExternalRetailerByRetailerIdTemplatestemplateId
     *
     * @param  int $retailer_id Retailer Id (required)
     * @param  int $template_id Template Id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\TemplateResponse
     */
    public function getApi202207ExternalRetailerByRetailerIdTemplatestemplateId($retailer_id, $template_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'][0])
    {
        list($response) = $this->getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdWithHttpInfo($retailer_id, $template_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdWithHttpInfo
     *
     * @param  int $retailer_id Retailer Id (required)
     * @param  int $template_id Template Id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\TemplateResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdWithHttpInfo($retailer_id, $template_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'][0])
    {
        $request = $this->getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdRequest($retailer_id, $template_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\TemplateResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\TemplateResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\TemplateResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\TemplateResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\TemplateResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdAsync
     *
     * @param  int $retailer_id Retailer Id (required)
     * @param  int $template_id Template Id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdAsync($retailer_id, $template_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'][0])
    {
        return $this->getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdAsyncWithHttpInfo($retailer_id, $template_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdAsyncWithHttpInfo
     *
     * @param  int $retailer_id Retailer Id (required)
     * @param  int $template_id Template Id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdAsyncWithHttpInfo($retailer_id, $template_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\TemplateResponse';
        $request = $this->getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdRequest($retailer_id, $template_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'
     *
     * @param  int $retailer_id Retailer Id (required)
     * @param  int $template_id Template Id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202207ExternalRetailerByRetailerIdTemplatestemplateIdRequest($retailer_id, $template_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'][0])
    {

        // verify the required parameter 'retailer_id' is set
        if ($retailer_id === null || (is_array($retailer_id) && count($retailer_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $retailer_id when calling getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'
            );
        }

        // verify the required parameter 'template_id' is set
        if ($template_id === null || (is_array($template_id) && count($template_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $template_id when calling getApi202207ExternalRetailerByRetailerIdTemplatestemplateId'
            );
        }


        $resourcePath = '/2023-04/retail-media/retailers/{retailer-id}/templates/{template-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($retailer_id !== null) {
            $resourcePath = str_replace(
                '{' . 'retailer-id' . '}',
                ObjectSerializer::toPathValue($retailer_id),
                $resourcePath
            );
        }
        // path params
        if ($template_id !== null) {
            $resourcePath = str_replace(
                '{' . 'template-id' . '}',
                ObjectSerializer::toPathValue($template_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202207ExternalRetailerTemplatesByRetailerId
     *
     * @param  int $retailer_id External retailer id to retrieve creative templates for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\TemplateListResponse
     */
    public function getApi202207ExternalRetailerTemplatesByRetailerId($retailer_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'][0])
    {
        list($response) = $this->getApi202207ExternalRetailerTemplatesByRetailerIdWithHttpInfo($retailer_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202207ExternalRetailerTemplatesByRetailerIdWithHttpInfo
     *
     * @param  int $retailer_id External retailer id to retrieve creative templates for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\TemplateListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202207ExternalRetailerTemplatesByRetailerIdWithHttpInfo($retailer_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'][0])
    {
        $request = $this->getApi202207ExternalRetailerTemplatesByRetailerIdRequest($retailer_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\TemplateListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\TemplateListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\TemplateListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\TemplateListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\TemplateListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202207ExternalRetailerTemplatesByRetailerIdAsync
     *
     * @param  int $retailer_id External retailer id to retrieve creative templates for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202207ExternalRetailerTemplatesByRetailerIdAsync($retailer_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'][0])
    {
        return $this->getApi202207ExternalRetailerTemplatesByRetailerIdAsyncWithHttpInfo($retailer_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202207ExternalRetailerTemplatesByRetailerIdAsyncWithHttpInfo
     *
     * @param  int $retailer_id External retailer id to retrieve creative templates for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202207ExternalRetailerTemplatesByRetailerIdAsyncWithHttpInfo($retailer_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\TemplateListResponse';
        $request = $this->getApi202207ExternalRetailerTemplatesByRetailerIdRequest($retailer_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202207ExternalRetailerTemplatesByRetailerId'
     *
     * @param  int $retailer_id External retailer id to retrieve creative templates for (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202207ExternalRetailerTemplatesByRetailerIdRequest($retailer_id, string $contentType = self::contentTypes['getApi202207ExternalRetailerTemplatesByRetailerId'][0])
    {

        // verify the required parameter 'retailer_id' is set
        if ($retailer_id === null || (is_array($retailer_id) && count($retailer_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $retailer_id when calling getApi202207ExternalRetailerTemplatesByRetailerId'
            );
        }


        $resourcePath = '/2023-04/retail-media/retailers/{retailer-id}/templates';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($retailer_id !== null) {
            $resourcePath = str_replace(
                '{' . 'retailer-id' . '}',
                ObjectSerializer::toPathValue($retailer_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202210ExternalAccountByAccountIdCreativescreativeId
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $creative_id Creative to get (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Creative202210Response
     */
    public function getApi202210ExternalAccountByAccountIdCreativescreativeId($account_id, $creative_id, string $contentType = self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        list($response) = $this->getApi202210ExternalAccountByAccountIdCreativescreativeIdWithHttpInfo($account_id, $creative_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202210ExternalAccountByAccountIdCreativescreativeIdWithHttpInfo
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $creative_id Creative to get (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Creative202210Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202210ExternalAccountByAccountIdCreativescreativeIdWithHttpInfo($account_id, $creative_id, string $contentType = self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        $request = $this->getApi202210ExternalAccountByAccountIdCreativescreativeIdRequest($account_id, $creative_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202210ExternalAccountByAccountIdCreativescreativeIdAsync
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $creative_id Creative to get (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202210ExternalAccountByAccountIdCreativescreativeIdAsync($account_id, $creative_id, string $contentType = self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        return $this->getApi202210ExternalAccountByAccountIdCreativescreativeIdAsyncWithHttpInfo($account_id, $creative_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202210ExternalAccountByAccountIdCreativescreativeIdAsyncWithHttpInfo
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $creative_id Creative to get (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202210ExternalAccountByAccountIdCreativescreativeIdAsyncWithHttpInfo($account_id, $creative_id, string $contentType = self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response';
        $request = $this->getApi202210ExternalAccountByAccountIdCreativescreativeIdRequest($account_id, $creative_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202210ExternalAccountByAccountIdCreativescreativeId'
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string $creative_id Creative to get (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202210ExternalAccountByAccountIdCreativescreativeIdRequest($account_id, $creative_id, string $contentType = self::contentTypes['getApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling getApi202210ExternalAccountByAccountIdCreativescreativeId'
            );
        }

        // verify the required parameter 'creative_id' is set
        if ($creative_id === null || (is_array($creative_id) && count($creative_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $creative_id when calling getApi202210ExternalAccountByAccountIdCreativescreativeId'
            );
        }


        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/creatives/{creative-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }
        // path params
        if ($creative_id !== null) {
            $resourcePath = str_replace(
                '{' . 'creative-id' . '}',
                ObjectSerializer::toPathValue($creative_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202301ExternalAccountCampaignsByAccountId
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional, default to 0)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional, default to 25)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301
     */
    public function getApi202301ExternalAccountCampaignsByAccountId($account_id, $limit_to_id = null, $page_index = 0, $page_size = 25, string $contentType = self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        list($response) = $this->getApi202301ExternalAccountCampaignsByAccountIdWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApi202301ExternalAccountCampaignsByAccountIdWithHttpInfo
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional, default to 0)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional, default to 25)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202301ExternalAccountCampaignsByAccountIdWithHttpInfo($account_id, $limit_to_id = null, $page_index = 0, $page_size = 25, string $contentType = self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        $request = $this->getApi202301ExternalAccountCampaignsByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202301ExternalAccountCampaignsByAccountIdAsync
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional, default to 0)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional, default to 25)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202301ExternalAccountCampaignsByAccountIdAsync($account_id, $limit_to_id = null, $page_index = 0, $page_size = 25, string $contentType = self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        return $this->getApi202301ExternalAccountCampaignsByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202301ExternalAccountCampaignsByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional, default to 0)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional, default to 25)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202301ExternalAccountCampaignsByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id = null, $page_index = 0, $page_size = 25, string $contentType = self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfCampaignV202301';
        $request = $this->getApi202301ExternalAccountCampaignsByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202301ExternalAccountCampaignsByAccountId'
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional, default to 0)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional, default to 25)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202301ExternalAccountCampaignsByAccountIdRequest($account_id, $limit_to_id = null, $page_index = 0, $page_size = 25, string $contentType = self::contentTypes['getApi202301ExternalAccountCampaignsByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling getApi202301ExternalAccountCampaignsByAccountId'
            );
        }





        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/campaigns';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202301ExternalCampaignByCampaignId
     *
     * @param  string $campaign_id Campaign Id of the campaign detail (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301
     */
    public function getApi202301ExternalCampaignByCampaignId($campaign_id, string $contentType = self::contentTypes['getApi202301ExternalCampaignByCampaignId'][0])
    {
        list($response) = $this->getApi202301ExternalCampaignByCampaignIdWithHttpInfo($campaign_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202301ExternalCampaignByCampaignIdWithHttpInfo
     *
     * @param  string $campaign_id Campaign Id of the campaign detail (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202301ExternalCampaignByCampaignIdWithHttpInfo($campaign_id, string $contentType = self::contentTypes['getApi202301ExternalCampaignByCampaignId'][0])
    {
        $request = $this->getApi202301ExternalCampaignByCampaignIdRequest($campaign_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202301ExternalCampaignByCampaignIdAsync
     *
     * @param  string $campaign_id Campaign Id of the campaign detail (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202301ExternalCampaignByCampaignIdAsync($campaign_id, string $contentType = self::contentTypes['getApi202301ExternalCampaignByCampaignId'][0])
    {
        return $this->getApi202301ExternalCampaignByCampaignIdAsyncWithHttpInfo($campaign_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202301ExternalCampaignByCampaignIdAsyncWithHttpInfo
     *
     * @param  string $campaign_id Campaign Id of the campaign detail (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202301ExternalCampaignByCampaignIdAsyncWithHttpInfo($campaign_id, string $contentType = self::contentTypes['getApi202301ExternalCampaignByCampaignId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301';
        $request = $this->getApi202301ExternalCampaignByCampaignIdRequest($campaign_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202301ExternalCampaignByCampaignId'
     *
     * @param  string $campaign_id Campaign Id of the campaign detail (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202301ExternalCampaignByCampaignIdRequest($campaign_id, string $contentType = self::contentTypes['getApi202301ExternalCampaignByCampaignId'][0])
    {

        // verify the required parameter 'campaign_id' is set
        if ($campaign_id === null || (is_array($campaign_id) && count($campaign_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $campaign_id when calling getApi202301ExternalCampaignByCampaignId'
            );
        }


        $resourcePath = '/2023-04/retail-media/campaigns/{campaignId}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($campaign_id !== null) {
            $resourcePath = str_replace(
                '{' . 'campaignId' . '}',
                ObjectSerializer::toPathValue($campaign_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApi202301ExternalLineItemBidMultipliersByLineItemId
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers
     */
    public function getApi202301ExternalLineItemBidMultipliersByLineItemId($line_item_id, string $contentType = self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        list($response) = $this->getApi202301ExternalLineItemBidMultipliersByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApi202301ExternalLineItemBidMultipliersByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApi202301ExternalLineItemBidMultipliersByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        $request = $this->getApi202301ExternalLineItemBidMultipliersByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApi202301ExternalLineItemBidMultipliersByLineItemIdAsync
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202301ExternalLineItemBidMultipliersByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        return $this->getApi202301ExternalLineItemBidMultipliersByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApi202301ExternalLineItemBidMultipliersByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApi202301ExternalLineItemBidMultipliersByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfLineItemBidMultipliers';
        $request = $this->getApi202301ExternalLineItemBidMultipliersByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApi202301ExternalLineItemBidMultipliersByLineItemId'
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApi202301ExternalLineItemBidMultipliersByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApi202301ExternalLineItemBidMultipliersByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}/bid-multipliers';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV1ExternalAccountBrandsByAccountId
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand
     */
    public function getApiV1ExternalAccountBrandsByAccountId($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'][0])
    {
        list($response) = $this->getApiV1ExternalAccountBrandsByAccountIdWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApiV1ExternalAccountBrandsByAccountIdWithHttpInfo
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV1ExternalAccountBrandsByAccountIdWithHttpInfo($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'][0])
    {
        $request = $this->getApiV1ExternalAccountBrandsByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV1ExternalAccountBrandsByAccountIdAsync
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalAccountBrandsByAccountIdAsync($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'][0])
    {
        return $this->getApiV1ExternalAccountBrandsByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV1ExternalAccountBrandsByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalAccountBrandsByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfBrand';
        $request = $this->getApiV1ExternalAccountBrandsByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV1ExternalAccountBrandsByAccountId'
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV1ExternalAccountBrandsByAccountIdRequest($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountBrandsByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling getApiV1ExternalAccountBrandsByAccountId'
            );
        }





        $resourcePath = '/2023-04/retail-media/accounts/{accountId}/brands';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'accountId' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV1ExternalAccountRetailersByAccountId
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer
     */
    public function getApiV1ExternalAccountRetailersByAccountId($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'][0])
    {
        list($response) = $this->getApiV1ExternalAccountRetailersByAccountIdWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApiV1ExternalAccountRetailersByAccountIdWithHttpInfo
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV1ExternalAccountRetailersByAccountIdWithHttpInfo($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'][0])
    {
        $request = $this->getApiV1ExternalAccountRetailersByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV1ExternalAccountRetailersByAccountIdAsync
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalAccountRetailersByAccountIdAsync($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'][0])
    {
        return $this->getApiV1ExternalAccountRetailersByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV1ExternalAccountRetailersByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalAccountRetailersByAccountIdAsyncWithHttpInfo($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfRetailer';
        $request = $this->getApiV1ExternalAccountRetailersByAccountIdRequest($account_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV1ExternalAccountRetailersByAccountId'
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV1ExternalAccountRetailersByAccountIdRequest($account_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccountRetailersByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling getApiV1ExternalAccountRetailersByAccountId'
            );
        }





        $resourcePath = '/2023-04/retail-media/accounts/{accountId}/retailers';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'accountId' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV1ExternalAccounts
     *
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccounts'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount
     */
    public function getApiV1ExternalAccounts($limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccounts'][0])
    {
        list($response) = $this->getApiV1ExternalAccountsWithHttpInfo($limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApiV1ExternalAccountsWithHttpInfo
     *
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccounts'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV1ExternalAccountsWithHttpInfo($limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccounts'][0])
    {
        $request = $this->getApiV1ExternalAccountsRequest($limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV1ExternalAccountsAsync
     *
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccounts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalAccountsAsync($limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccounts'][0])
    {
        return $this->getApiV1ExternalAccountsAsyncWithHttpInfo($limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV1ExternalAccountsAsyncWithHttpInfo
     *
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccounts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalAccountsAsyncWithHttpInfo($limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccounts'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiPageResponseOfAccount';
        $request = $this->getApiV1ExternalAccountsRequest($limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV1ExternalAccounts'
     *
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalAccounts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV1ExternalAccountsRequest($limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV1ExternalAccounts'][0])
    {





        $resourcePath = '/2023-04/retail-media/accounts';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV1ExternalCatalogOutputByCatalogId
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return void
     */
    public function getApiV1ExternalCatalogOutputByCatalogId($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'][0])
    {
        $this->getApiV1ExternalCatalogOutputByCatalogIdWithHttpInfo($catalog_id, $contentType);
    }

    /**
     * Operation getApiV1ExternalCatalogOutputByCatalogIdWithHttpInfo
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV1ExternalCatalogOutputByCatalogIdWithHttpInfo($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'][0])
    {
        $request = $this->getApiV1ExternalCatalogOutputByCatalogIdRequest($catalog_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV1ExternalCatalogOutputByCatalogIdAsync
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalCatalogOutputByCatalogIdAsync($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'][0])
    {
        return $this->getApiV1ExternalCatalogOutputByCatalogIdAsyncWithHttpInfo($catalog_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV1ExternalCatalogOutputByCatalogIdAsyncWithHttpInfo
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalCatalogOutputByCatalogIdAsyncWithHttpInfo($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'][0])
    {
        $returnType = '';
        $request = $this->getApiV1ExternalCatalogOutputByCatalogIdRequest($catalog_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV1ExternalCatalogOutputByCatalogId'
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV1ExternalCatalogOutputByCatalogIdRequest($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogOutputByCatalogId'][0])
    {

        // verify the required parameter 'catalog_id' is set
        if ($catalog_id === null || (is_array($catalog_id) && count($catalog_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $catalog_id when calling getApiV1ExternalCatalogOutputByCatalogId'
            );
        }


        $resourcePath = '/2023-04/retail-media/catalogs/{catalogId}/output';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($catalog_id !== null) {
            $resourcePath = str_replace(
                '{' . 'catalogId' . '}',
                ObjectSerializer::toPathValue($catalog_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/x-json-stream', 'application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV1ExternalCatalogStatusByCatalogId
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus
     */
    public function getApiV1ExternalCatalogStatusByCatalogId($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'][0])
    {
        list($response) = $this->getApiV1ExternalCatalogStatusByCatalogIdWithHttpInfo($catalog_id, $contentType);
        return $response;
    }

    /**
     * Operation getApiV1ExternalCatalogStatusByCatalogIdWithHttpInfo
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV1ExternalCatalogStatusByCatalogIdWithHttpInfo($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'][0])
    {
        $request = $this->getApiV1ExternalCatalogStatusByCatalogIdRequest($catalog_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV1ExternalCatalogStatusByCatalogIdAsync
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalCatalogStatusByCatalogIdAsync($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'][0])
    {
        return $this->getApiV1ExternalCatalogStatusByCatalogIdAsyncWithHttpInfo($catalog_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV1ExternalCatalogStatusByCatalogIdAsyncWithHttpInfo
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV1ExternalCatalogStatusByCatalogIdAsyncWithHttpInfo($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus';
        $request = $this->getApiV1ExternalCatalogStatusByCatalogIdRequest($catalog_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV1ExternalCatalogStatusByCatalogId'
     *
     * @param  string $catalog_id A catalog ID returned from an account catalog request. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV1ExternalCatalogStatusByCatalogIdRequest($catalog_id, string $contentType = self::contentTypes['getApiV1ExternalCatalogStatusByCatalogId'][0])
    {

        // verify the required parameter 'catalog_id' is set
        if ($catalog_id === null || (is_array($catalog_id) && count($catalog_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $catalog_id when calling getApiV1ExternalCatalogStatusByCatalogId'
            );
        }


        $resourcePath = '/2023-04/retail-media/catalogs/{catalogId}/status';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($catalog_id !== null) {
            $resourcePath = str_replace(
                '{' . 'catalogId' . '}',
                ObjectSerializer::toPathValue($catalog_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV2ExternalAccountLineItemsByAccountId
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_campaign_id The campaign ids that you would like to limit your result set to (optional)
     * @param  string $limit_to_type The campaign types that you would like to limit your result set to (optional)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse
     */
    public function getApiV2ExternalAccountLineItemsByAccountId($account_id, $limit_to_campaign_id = null, $limit_to_type = null, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'][0])
    {
        list($response) = $this->getApiV2ExternalAccountLineItemsByAccountIdWithHttpInfo($account_id, $limit_to_campaign_id, $limit_to_type, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApiV2ExternalAccountLineItemsByAccountIdWithHttpInfo
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_campaign_id The campaign ids that you would like to limit your result set to (optional)
     * @param  string $limit_to_type The campaign types that you would like to limit your result set to (optional)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV2ExternalAccountLineItemsByAccountIdWithHttpInfo($account_id, $limit_to_campaign_id = null, $limit_to_type = null, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'][0])
    {
        $request = $this->getApiV2ExternalAccountLineItemsByAccountIdRequest($account_id, $limit_to_campaign_id, $limit_to_type, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV2ExternalAccountLineItemsByAccountIdAsync
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_campaign_id The campaign ids that you would like to limit your result set to (optional)
     * @param  string $limit_to_type The campaign types that you would like to limit your result set to (optional)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalAccountLineItemsByAccountIdAsync($account_id, $limit_to_campaign_id = null, $limit_to_type = null, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'][0])
    {
        return $this->getApiV2ExternalAccountLineItemsByAccountIdAsyncWithHttpInfo($account_id, $limit_to_campaign_id, $limit_to_type, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV2ExternalAccountLineItemsByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_campaign_id The campaign ids that you would like to limit your result set to (optional)
     * @param  string $limit_to_type The campaign types that you would like to limit your result set to (optional)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalAccountLineItemsByAccountIdAsyncWithHttpInfo($account_id, $limit_to_campaign_id = null, $limit_to_type = null, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemPagedListResponse';
        $request = $this->getApiV2ExternalAccountLineItemsByAccountIdRequest($account_id, $limit_to_campaign_id, $limit_to_type, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV2ExternalAccountLineItemsByAccountId'
     *
     * @param  string $account_id The given account id (required)
     * @param  string[] $limit_to_campaign_id The campaign ids that you would like to limit your result set to (optional)
     * @param  string $limit_to_type The campaign types that you would like to limit your result set to (optional)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV2ExternalAccountLineItemsByAccountIdRequest($account_id, $limit_to_campaign_id = null, $limit_to_type = null, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalAccountLineItemsByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling getApiV2ExternalAccountLineItemsByAccountId'
            );
        }







        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/line-items';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_campaign_id,
            'limitToCampaignId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_type,
            'limitToType', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV2ExternalAuctionLineItemByLineItemId
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse
     */
    public function getApiV2ExternalAuctionLineItemByLineItemId($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        list($response) = $this->getApiV2ExternalAuctionLineItemByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApiV2ExternalAuctionLineItemByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV2ExternalAuctionLineItemByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        $request = $this->getApiV2ExternalAuctionLineItemByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV2ExternalAuctionLineItemByLineItemIdAsync
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalAuctionLineItemByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        return $this->getApiV2ExternalAuctionLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV2ExternalAuctionLineItemByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalAuctionLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse';
        $request = $this->getApiV2ExternalAuctionLineItemByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV2ExternalAuctionLineItemByLineItemId'
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV2ExternalAuctionLineItemByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalAuctionLineItemByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApiV2ExternalAuctionLineItemByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/auction-line-items/{line-item-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV2ExternalCampaignAuctionLineItemsByCampaignId
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse
     */
    public function getApiV2ExternalCampaignAuctionLineItemsByCampaignId($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        list($response) = $this->getApiV2ExternalCampaignAuctionLineItemsByCampaignIdWithHttpInfo($campaign_id, $limit_to_id, $page_index, $page_size, $contentType);
        return $response;
    }

    /**
     * Operation getApiV2ExternalCampaignAuctionLineItemsByCampaignIdWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV2ExternalCampaignAuctionLineItemsByCampaignIdWithHttpInfo($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        $request = $this->getApiV2ExternalCampaignAuctionLineItemsByCampaignIdRequest($campaign_id, $limit_to_id, $page_index, $page_size, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsync
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsync($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        return $this->getApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $limit_to_id, $page_index, $page_size, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsyncWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemPagedListResponse';
        $request = $this->getApiV2ExternalCampaignAuctionLineItemsByCampaignIdRequest($campaign_id, $limit_to_id, $page_index, $page_size, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV2ExternalCampaignAuctionLineItemsByCampaignId'
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  string[] $limit_to_id The ids that you would like to limit your result set to (optional)
     * @param  int $page_index The 0 indexed page index you would like to receive given the page size (optional)
     * @param  int $page_size The maximum number of items you would like to receive in this request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV2ExternalCampaignAuctionLineItemsByCampaignIdRequest($campaign_id, $limit_to_id = null, $page_index = null, $page_size = null, string $contentType = self::contentTypes['getApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {

        // verify the required parameter 'campaign_id' is set
        if ($campaign_id === null || (is_array($campaign_id) && count($campaign_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $campaign_id when calling getApiV2ExternalCampaignAuctionLineItemsByCampaignId'
            );
        }





        $resourcePath = '/2023-04/retail-media/campaigns/{campaign-id}/auction-line-items';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $limit_to_id,
            'limitToId', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_index,
            'pageIndex', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page_size,
            'pageSize', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($campaign_id !== null) {
            $resourcePath = str_replace(
                '{' . 'campaign-id' . '}',
                ObjectSerializer::toPathValue($campaign_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiV2ExternalLineItemByLineItemId
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse
     */
    public function getApiV2ExternalLineItemByLineItemId($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalLineItemByLineItemId'][0])
    {
        list($response) = $this->getApiV2ExternalLineItemByLineItemIdWithHttpInfo($line_item_id, $contentType);
        return $response;
    }

    /**
     * Operation getApiV2ExternalLineItemByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiV2ExternalLineItemByLineItemIdWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalLineItemByLineItemId'][0])
    {
        $request = $this->getApiV2ExternalLineItemByLineItemIdRequest($line_item_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getApiV2ExternalLineItemByLineItemIdAsync
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalLineItemByLineItemIdAsync($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalLineItemByLineItemId'][0])
    {
        return $this->getApiV2ExternalLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiV2ExternalLineItemByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiV2ExternalLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalLineItemByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\CommonLineItemResponse';
        $request = $this->getApiV2ExternalLineItemByLineItemIdRequest($line_item_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiV2ExternalLineItemByLineItemId'
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiV2ExternalLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiV2ExternalLineItemByLineItemIdRequest($line_item_id, string $contentType = self::contentTypes['getApiV2ExternalLineItemByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling getApiV2ExternalLineItemByLineItemId'
            );
        }


        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdWithHttpInfo($line_item_id, $keyword_target202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdWithHttpInfo($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdRequest($line_item_id, $keyword_target202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdAsync($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'][0])
    {
        return $this->postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $keyword_target202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response';
        $request = $this->postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdRequest($line_item_id, $keyword_target202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemIdRequest($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalAuctionLineItemTargetingKeywordsAppendByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/auction-line-items/{line-item-id}/targeting/keywords/append';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($keyword_target202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($keyword_target202110_request));
            } else {
                $httpBody = $keyword_target202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdWithHttpInfo($line_item_id, $keyword_target202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdWithHttpInfo($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdRequest($line_item_id, $keyword_target202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdAsync($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'][0])
    {
        return $this->postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $keyword_target202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Response';
        $request = $this->postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdRequest($line_item_id, $keyword_target202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\KeywordTarget202110Request $keyword_target202110_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemIdRequest($line_item_id, $keyword_target202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalAuctionLineItemTargetingKeywordsDeleteByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/auction-line-items/{line-item-id}/targeting/keywords/delete';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($keyword_target202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($keyword_target202110_request));
            } else {
                $httpBody = $keyword_target202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsAppendByBalanceId
     *
     * @param  string $balance_id The balance to add campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse
     */
    public function postApi202110ExternalBalanceCampaignsAppendByBalanceId($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'][0])
    {
        list($response) = $this->postApi202110ExternalBalanceCampaignsAppendByBalanceIdWithHttpInfo($balance_id, $balance_campaign202110_list_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsAppendByBalanceIdWithHttpInfo
     *
     * @param  string $balance_id The balance to add campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalBalanceCampaignsAppendByBalanceIdWithHttpInfo($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'][0])
    {
        $request = $this->postApi202110ExternalBalanceCampaignsAppendByBalanceIdRequest($balance_id, $balance_campaign202110_list_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsAppendByBalanceIdAsync
     *
     * @param  string $balance_id The balance to add campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalBalanceCampaignsAppendByBalanceIdAsync($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'][0])
    {
        return $this->postApi202110ExternalBalanceCampaignsAppendByBalanceIdAsyncWithHttpInfo($balance_id, $balance_campaign202110_list_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsAppendByBalanceIdAsyncWithHttpInfo
     *
     * @param  string $balance_id The balance to add campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalBalanceCampaignsAppendByBalanceIdAsyncWithHttpInfo($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse';
        $request = $this->postApi202110ExternalBalanceCampaignsAppendByBalanceIdRequest($balance_id, $balance_campaign202110_list_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalBalanceCampaignsAppendByBalanceId'
     *
     * @param  string $balance_id The balance to add campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalBalanceCampaignsAppendByBalanceIdRequest($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsAppendByBalanceId'][0])
    {

        // verify the required parameter 'balance_id' is set
        if ($balance_id === null || (is_array($balance_id) && count($balance_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $balance_id when calling postApi202110ExternalBalanceCampaignsAppendByBalanceId'
            );
        }



        $resourcePath = '/2023-04/retail-media/balances/{balance-id}/campaigns/append';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($balance_id !== null) {
            $resourcePath = str_replace(
                '{' . 'balance-id' . '}',
                ObjectSerializer::toPathValue($balance_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($balance_campaign202110_list_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($balance_campaign202110_list_request));
            } else {
                $httpBody = $balance_campaign202110_list_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsDeleteByBalanceId
     *
     * @param  string $balance_id The balance to remove campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse
     */
    public function postApi202110ExternalBalanceCampaignsDeleteByBalanceId($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'][0])
    {
        list($response) = $this->postApi202110ExternalBalanceCampaignsDeleteByBalanceIdWithHttpInfo($balance_id, $balance_campaign202110_list_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsDeleteByBalanceIdWithHttpInfo
     *
     * @param  string $balance_id The balance to remove campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalBalanceCampaignsDeleteByBalanceIdWithHttpInfo($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'][0])
    {
        $request = $this->postApi202110ExternalBalanceCampaignsDeleteByBalanceIdRequest($balance_id, $balance_campaign202110_list_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsDeleteByBalanceIdAsync
     *
     * @param  string $balance_id The balance to remove campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalBalanceCampaignsDeleteByBalanceIdAsync($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'][0])
    {
        return $this->postApi202110ExternalBalanceCampaignsDeleteByBalanceIdAsyncWithHttpInfo($balance_id, $balance_campaign202110_list_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalBalanceCampaignsDeleteByBalanceIdAsyncWithHttpInfo
     *
     * @param  string $balance_id The balance to remove campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalBalanceCampaignsDeleteByBalanceIdAsyncWithHttpInfo($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110PagedListResponse';
        $request = $this->postApi202110ExternalBalanceCampaignsDeleteByBalanceIdRequest($balance_id, $balance_campaign202110_list_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalBalanceCampaignsDeleteByBalanceId'
     *
     * @param  string $balance_id The balance to remove campaigns from (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\BalanceCampaign202110ListRequest $balance_campaign202110_list_request The campaigns to append (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalBalanceCampaignsDeleteByBalanceIdRequest($balance_id, $balance_campaign202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalBalanceCampaignsDeleteByBalanceId'][0])
    {

        // verify the required parameter 'balance_id' is set
        if ($balance_id === null || (is_array($balance_id) && count($balance_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $balance_id when calling postApi202110ExternalBalanceCampaignsDeleteByBalanceId'
            );
        }



        $resourcePath = '/2023-04/retail-media/balances/{balance-id}/campaigns/delete';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($balance_id !== null) {
            $resourcePath = str_replace(
                '{' . 'balance-id' . '}',
                ObjectSerializer::toPathValue($balance_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($balance_campaign202110_list_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($balance_campaign202110_list_request));
            } else {
                $httpBody = $balance_campaign202110_list_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalCampaignPreferredLineItemsByCampaignId
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemCreateModel202110Request $preferred_line_item_create_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response
     */
    public function postApi202110ExternalCampaignPreferredLineItemsByCampaignId($campaign_id, $preferred_line_item_create_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        list($response) = $this->postApi202110ExternalCampaignPreferredLineItemsByCampaignIdWithHttpInfo($campaign_id, $preferred_line_item_create_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalCampaignPreferredLineItemsByCampaignIdWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemCreateModel202110Request $preferred_line_item_create_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalCampaignPreferredLineItemsByCampaignIdWithHttpInfo($campaign_id, $preferred_line_item_create_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        $request = $this->postApi202110ExternalCampaignPreferredLineItemsByCampaignIdRequest($campaign_id, $preferred_line_item_create_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsync
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemCreateModel202110Request $preferred_line_item_create_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsync($campaign_id, $preferred_line_item_create_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        return $this->postApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $preferred_line_item_create_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsyncWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemCreateModel202110Request $preferred_line_item_create_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalCampaignPreferredLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $preferred_line_item_create_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response';
        $request = $this->postApi202110ExternalCampaignPreferredLineItemsByCampaignIdRequest($campaign_id, $preferred_line_item_create_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalCampaignPreferredLineItemsByCampaignId'
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemCreateModel202110Request $preferred_line_item_create_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalCampaignPreferredLineItemsByCampaignIdRequest($campaign_id, $preferred_line_item_create_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalCampaignPreferredLineItemsByCampaignId'][0])
    {

        // verify the required parameter 'campaign_id' is set
        if ($campaign_id === null || (is_array($campaign_id) && count($campaign_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $campaign_id when calling postApi202110ExternalCampaignPreferredLineItemsByCampaignId'
            );
        }



        $resourcePath = '/2023-04/retail-media/campaigns/{campaign-id}/preferred-line-items';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($campaign_id !== null) {
            $resourcePath = str_replace(
                '{' . 'campaign-id' . '}',
                ObjectSerializer::toPathValue($campaign_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($preferred_line_item_create_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($preferred_line_item_create_model202110_request));
            } else {
                $httpBody = $preferred_line_item_create_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsAppendByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request the products to append to this line item (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse
     */
    public function postApi202110ExternalLineItemProductsAppendByLineItemId($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalLineItemProductsAppendByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalLineItemProductsAppendByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request the products to append to this line item (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalLineItemProductsAppendByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalLineItemProductsAppendByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalLineItemProductsAppendByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request the products to append to this line item (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsAppendByLineItemIdAsync($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'][0])
    {
        return $this->postApi202110ExternalLineItemProductsAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsAppendByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request the products to append to this line item (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse';
        $request = $this->postApi202110ExternalLineItemProductsAppendByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalLineItemProductsAppendByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request the products to append to this line item (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalLineItemProductsAppendByLineItemIdRequest($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsAppendByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalLineItemProductsAppendByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}/products/append';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($promoted_product202110_list_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($promoted_product202110_list_request));
            } else {
                $httpBody = $promoted_product202110_list_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsDeleteByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse
     */
    public function postApi202110ExternalLineItemProductsDeleteByLineItemId($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalLineItemProductsDeleteByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalLineItemProductsDeleteByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalLineItemProductsDeleteByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalLineItemProductsDeleteByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalLineItemProductsDeleteByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsDeleteByLineItemIdAsync($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'][0])
    {
        return $this->postApi202110ExternalLineItemProductsDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsDeleteByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110PagedListResponse';
        $request = $this->postApi202110ExternalLineItemProductsDeleteByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalLineItemProductsDeleteByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request  (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalLineItemProductsDeleteByLineItemIdRequest($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsDeleteByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalLineItemProductsDeleteByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}/products/delete';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($promoted_product202110_list_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($promoted_product202110_list_request));
            } else {
                $httpBody = $promoted_product202110_list_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsPauseByLineItemId
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to pause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return void
     */
    public function postApi202110ExternalLineItemProductsPauseByLineItemId($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'][0])
    {
        $this->postApi202110ExternalLineItemProductsPauseByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType);
    }

    /**
     * Operation postApi202110ExternalLineItemProductsPauseByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to pause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalLineItemProductsPauseByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalLineItemProductsPauseByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalLineItemProductsPauseByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to pause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsPauseByLineItemIdAsync($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'][0])
    {
        return $this->postApi202110ExternalLineItemProductsPauseByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsPauseByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to pause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsPauseByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'][0])
    {
        $returnType = '';
        $request = $this->postApi202110ExternalLineItemProductsPauseByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalLineItemProductsPauseByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to pause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalLineItemProductsPauseByLineItemIdRequest($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsPauseByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalLineItemProductsPauseByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}/products/pause';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            [],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($promoted_product202110_list_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($promoted_product202110_list_request));
            } else {
                $httpBody = $promoted_product202110_list_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsUnpauseByLineItemId
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to unpause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return void
     */
    public function postApi202110ExternalLineItemProductsUnpauseByLineItemId($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'][0])
    {
        $this->postApi202110ExternalLineItemProductsUnpauseByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType);
    }

    /**
     * Operation postApi202110ExternalLineItemProductsUnpauseByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to unpause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalLineItemProductsUnpauseByLineItemIdWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalLineItemProductsUnpauseByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return [null, $statusCode, $response->getHeaders()];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalLineItemProductsUnpauseByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to unpause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsUnpauseByLineItemIdAsync($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'][0])
    {
        return $this->postApi202110ExternalLineItemProductsUnpauseByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalLineItemProductsUnpauseByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to unpause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalLineItemProductsUnpauseByLineItemIdAsyncWithHttpInfo($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'][0])
    {
        $returnType = '';
        $request = $this->postApi202110ExternalLineItemProductsUnpauseByLineItemIdRequest($line_item_id, $promoted_product202110_list_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalLineItemProductsUnpauseByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PromotedProduct202110ListRequest $promoted_product202110_list_request The products from which their IDs will be used to unpause. (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalLineItemProductsUnpauseByLineItemIdRequest($line_item_id, $promoted_product202110_list_request = null, string $contentType = self::contentTypes['postApi202110ExternalLineItemProductsUnpauseByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalLineItemProductsUnpauseByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}/products/unpause';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            [],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($promoted_product202110_list_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($promoted_product202110_list_request));
            } else {
                $httpBody = $promoted_product202110_list_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdRequest($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdAsync($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'][0])
    {
        return $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdRequest($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemIdRequest($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalPreferredLineItemTargetingAddToBasketAppendByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/add-to-basket/append';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($add_to_basket_ids_update_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($add_to_basket_ids_update_model202110_request));
            } else {
                $httpBody = $add_to_basket_ids_update_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdRequest($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdAsync($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'][0])
    {
        return $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdRequest($line_item_id, $add_to_basket_ids_update_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketIdsUpdateModel202110Request $add_to_basket_ids_update_model202110_request Ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemIdRequest($line_item_id, $add_to_basket_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalPreferredLineItemTargetingAddToBasketDeleteByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/add-to-basket/delete';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($add_to_basket_ids_update_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($add_to_basket_ids_update_model202110_request));
            } else {
                $httpBody = $add_to_basket_ids_update_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdWithHttpInfo($line_item_id, $audience_ids_update_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdWithHttpInfo($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdRequest($line_item_id, $audience_ids_update_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdAsync($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'][0])
    {
        return $this->postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $audience_ids_update_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdRequest($line_item_id, $audience_ids_update_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemIdRequest($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalPreferredLineItemTargetingAudiencesAppendByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/audiences/append';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_ids_update_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_ids_update_model202110_request));
            } else {
                $httpBody = $audience_ids_update_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdWithHttpInfo($line_item_id, $audience_ids_update_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdWithHttpInfo($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdRequest($line_item_id, $audience_ids_update_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdAsync($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'][0])
    {
        return $this->postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $audience_ids_update_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
        $request = $this->postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdRequest($line_item_id, $audience_ids_update_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceIdsUpdateModel202110Request $audience_ids_update_model202110_request Audience ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemIdRequest($line_item_id, $audience_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalPreferredLineItemTargetingAudiencesDeleteByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/audiences/delete';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_ids_update_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_ids_update_model202110_request));
            } else {
                $httpBody = $audience_ids_update_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdWithHttpInfo($line_item_id, $store_ids_update_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdWithHttpInfo($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdRequest($line_item_id, $store_ids_update_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdAsync($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'][0])
    {
        return $this->postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $store_ids_update_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdAsyncWithHttpInfo($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
        $request = $this->postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdRequest($line_item_id, $store_ids_update_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to append to the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemIdRequest($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalPreferredLineItemTargetingStoresAppendByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/stores/append';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($store_ids_update_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($store_ids_update_model202110_request));
            } else {
                $httpBody = $store_ids_update_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'][0])
    {
        list($response) = $this->postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdWithHttpInfo($line_item_id, $store_ids_update_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdWithHttpInfo($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'][0])
    {
        $request = $this->postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdRequest($line_item_id, $store_ids_update_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdAsync($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'][0])
    {
        return $this->postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $store_ids_update_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdAsyncWithHttpInfo($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
        $request = $this->postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdRequest($line_item_id, $store_ids_update_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreIdsUpdateModel202110Request $store_ids_update_model202110_request Store ids to remove from the target (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemIdRequest($line_item_id, $store_ids_update_model202110_request = null, string $contentType = self::contentTypes['postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling postApi202110ExternalPreferredLineItemTargetingStoresDeleteByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/stores/delete';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($store_ids_update_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($store_ids_update_model202110_request));
            } else {
                $httpBody = $store_ids_update_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202210ExternalAccountCreativesByAccountId
     *
     * @param  string $account_id External account id to create a creative for (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeCreateModel202207 $creative_create_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Creative202210Response
     */
    public function postApi202210ExternalAccountCreativesByAccountId($account_id, $creative_create_model202207 = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'][0])
    {
        list($response) = $this->postApi202210ExternalAccountCreativesByAccountIdWithHttpInfo($account_id, $creative_create_model202207, $contentType);
        return $response;
    }

    /**
     * Operation postApi202210ExternalAccountCreativesByAccountIdWithHttpInfo
     *
     * @param  string $account_id External account id to create a creative for (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeCreateModel202207 $creative_create_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Creative202210Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202210ExternalAccountCreativesByAccountIdWithHttpInfo($account_id, $creative_create_model202207 = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'][0])
    {
        $request = $this->postApi202210ExternalAccountCreativesByAccountIdRequest($account_id, $creative_create_model202207, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202210ExternalAccountCreativesByAccountIdAsync
     *
     * @param  string $account_id External account id to create a creative for (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeCreateModel202207 $creative_create_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202210ExternalAccountCreativesByAccountIdAsync($account_id, $creative_create_model202207 = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'][0])
    {
        return $this->postApi202210ExternalAccountCreativesByAccountIdAsyncWithHttpInfo($account_id, $creative_create_model202207, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202210ExternalAccountCreativesByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id External account id to create a creative for (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeCreateModel202207 $creative_create_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202210ExternalAccountCreativesByAccountIdAsyncWithHttpInfo($account_id, $creative_create_model202207 = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response';
        $request = $this->postApi202210ExternalAccountCreativesByAccountIdRequest($account_id, $creative_create_model202207, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202210ExternalAccountCreativesByAccountId'
     *
     * @param  string $account_id External account id to create a creative for (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeCreateModel202207 $creative_create_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202210ExternalAccountCreativesByAccountIdRequest($account_id, $creative_create_model202207 = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling postApi202210ExternalAccountCreativesByAccountId'
            );
        }



        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/creatives';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($creative_create_model202207)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($creative_create_model202207));
            } else {
                $httpBody = $creative_create_model202207;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202210ExternalAccountCreativesSearchByAccountId
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string[] $creative_ids Creatives to filter by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse
     */
    public function postApi202210ExternalAccountCreativesSearchByAccountId($account_id, $creative_ids = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'][0])
    {
        list($response) = $this->postApi202210ExternalAccountCreativesSearchByAccountIdWithHttpInfo($account_id, $creative_ids, $contentType);
        return $response;
    }

    /**
     * Operation postApi202210ExternalAccountCreativesSearchByAccountIdWithHttpInfo
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string[] $creative_ids Creatives to filter by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202210ExternalAccountCreativesSearchByAccountIdWithHttpInfo($account_id, $creative_ids = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'][0])
    {
        $request = $this->postApi202210ExternalAccountCreativesSearchByAccountIdRequest($account_id, $creative_ids, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202210ExternalAccountCreativesSearchByAccountIdAsync
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string[] $creative_ids Creatives to filter by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202210ExternalAccountCreativesSearchByAccountIdAsync($account_id, $creative_ids = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'][0])
    {
        return $this->postApi202210ExternalAccountCreativesSearchByAccountIdAsyncWithHttpInfo($account_id, $creative_ids, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202210ExternalAccountCreativesSearchByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string[] $creative_ids Creatives to filter by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202210ExternalAccountCreativesSearchByAccountIdAsyncWithHttpInfo($account_id, $creative_ids = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210ListResponse';
        $request = $this->postApi202210ExternalAccountCreativesSearchByAccountIdRequest($account_id, $creative_ids, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202210ExternalAccountCreativesSearchByAccountId'
     *
     * @param  string $account_id External account id to retrieve creatives for (required)
     * @param  string[] $creative_ids Creatives to filter by (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202210ExternalAccountCreativesSearchByAccountIdRequest($account_id, $creative_ids = null, string $contentType = self::contentTypes['postApi202210ExternalAccountCreativesSearchByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling postApi202210ExternalAccountCreativesSearchByAccountId'
            );
        }



        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/creatives/search';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $creative_ids,
            'creative-ids', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApi202301ExternalAccountCampaignsByAccountId
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PostCampaignV202301 $post_campaign_v202301 Creatable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301
     */
    public function postApi202301ExternalAccountCampaignsByAccountId($account_id, $post_campaign_v202301 = null, string $contentType = self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        list($response) = $this->postApi202301ExternalAccountCampaignsByAccountIdWithHttpInfo($account_id, $post_campaign_v202301, $contentType);
        return $response;
    }

    /**
     * Operation postApi202301ExternalAccountCampaignsByAccountIdWithHttpInfo
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PostCampaignV202301 $post_campaign_v202301 Creatable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApi202301ExternalAccountCampaignsByAccountIdWithHttpInfo($account_id, $post_campaign_v202301 = null, string $contentType = self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        $request = $this->postApi202301ExternalAccountCampaignsByAccountIdRequest($account_id, $post_campaign_v202301, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApi202301ExternalAccountCampaignsByAccountIdAsync
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PostCampaignV202301 $post_campaign_v202301 Creatable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202301ExternalAccountCampaignsByAccountIdAsync($account_id, $post_campaign_v202301 = null, string $contentType = self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        return $this->postApi202301ExternalAccountCampaignsByAccountIdAsyncWithHttpInfo($account_id, $post_campaign_v202301, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApi202301ExternalAccountCampaignsByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PostCampaignV202301 $post_campaign_v202301 Creatable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApi202301ExternalAccountCampaignsByAccountIdAsyncWithHttpInfo($account_id, $post_campaign_v202301 = null, string $contentType = self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301';
        $request = $this->postApi202301ExternalAccountCampaignsByAccountIdRequest($account_id, $post_campaign_v202301, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApi202301ExternalAccountCampaignsByAccountId'
     *
     * @param  string $account_id The account to request the campaign for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PostCampaignV202301 $post_campaign_v202301 Creatable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApi202301ExternalAccountCampaignsByAccountIdRequest($account_id, $post_campaign_v202301 = null, string $contentType = self::contentTypes['postApi202301ExternalAccountCampaignsByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling postApi202301ExternalAccountCampaignsByAccountId'
            );
        }



        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/campaigns';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($post_campaign_v202301)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($post_campaign_v202301));
            } else {
                $httpBody = $post_campaign_v202301;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApiV1ExternalAccountCatalogsByAccountId
     *
     * @param  string $account_id The account to request the catalog for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\JsonApiRequestOfCatalogRequest $json_api_request_of_catalog_request json_api_request_of_catalog_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus
     */
    public function postApiV1ExternalAccountCatalogsByAccountId($account_id, $json_api_request_of_catalog_request = null, string $contentType = self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'][0])
    {
        list($response) = $this->postApiV1ExternalAccountCatalogsByAccountIdWithHttpInfo($account_id, $json_api_request_of_catalog_request, $contentType);
        return $response;
    }

    /**
     * Operation postApiV1ExternalAccountCatalogsByAccountIdWithHttpInfo
     *
     * @param  string $account_id The account to request the catalog for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\JsonApiRequestOfCatalogRequest $json_api_request_of_catalog_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApiV1ExternalAccountCatalogsByAccountIdWithHttpInfo($account_id, $json_api_request_of_catalog_request = null, string $contentType = self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'][0])
    {
        $request = $this->postApiV1ExternalAccountCatalogsByAccountIdRequest($account_id, $json_api_request_of_catalog_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApiV1ExternalAccountCatalogsByAccountIdAsync
     *
     * @param  string $account_id The account to request the catalog for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\JsonApiRequestOfCatalogRequest $json_api_request_of_catalog_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApiV1ExternalAccountCatalogsByAccountIdAsync($account_id, $json_api_request_of_catalog_request = null, string $contentType = self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'][0])
    {
        return $this->postApiV1ExternalAccountCatalogsByAccountIdAsyncWithHttpInfo($account_id, $json_api_request_of_catalog_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApiV1ExternalAccountCatalogsByAccountIdAsyncWithHttpInfo
     *
     * @param  string $account_id The account to request the catalog for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\JsonApiRequestOfCatalogRequest $json_api_request_of_catalog_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApiV1ExternalAccountCatalogsByAccountIdAsyncWithHttpInfo($account_id, $json_api_request_of_catalog_request = null, string $contentType = self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCatalogStatus';
        $request = $this->postApiV1ExternalAccountCatalogsByAccountIdRequest($account_id, $json_api_request_of_catalog_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApiV1ExternalAccountCatalogsByAccountId'
     *
     * @param  string $account_id The account to request the catalog for. (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\JsonApiRequestOfCatalogRequest $json_api_request_of_catalog_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApiV1ExternalAccountCatalogsByAccountIdRequest($account_id, $json_api_request_of_catalog_request = null, string $contentType = self::contentTypes['postApiV1ExternalAccountCatalogsByAccountId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling postApiV1ExternalAccountCatalogsByAccountId'
            );
        }



        $resourcePath = '/2023-04/retail-media/accounts/{accountId}/catalogs';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'accountId' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($json_api_request_of_catalog_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($json_api_request_of_catalog_request));
            } else {
                $httpBody = $json_api_request_of_catalog_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation postApiV2ExternalCampaignAuctionLineItemsByCampaignId
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemCreateModelRequest $auction_line_item_create_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse
     */
    public function postApiV2ExternalCampaignAuctionLineItemsByCampaignId($campaign_id, $auction_line_item_create_model_request = null, string $contentType = self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        list($response) = $this->postApiV2ExternalCampaignAuctionLineItemsByCampaignIdWithHttpInfo($campaign_id, $auction_line_item_create_model_request, $contentType);
        return $response;
    }

    /**
     * Operation postApiV2ExternalCampaignAuctionLineItemsByCampaignIdWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemCreateModelRequest $auction_line_item_create_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function postApiV2ExternalCampaignAuctionLineItemsByCampaignIdWithHttpInfo($campaign_id, $auction_line_item_create_model_request = null, string $contentType = self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        $request = $this->postApiV2ExternalCampaignAuctionLineItemsByCampaignIdRequest($campaign_id, $auction_line_item_create_model_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 201:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation postApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsync
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemCreateModelRequest $auction_line_item_create_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsync($campaign_id, $auction_line_item_create_model_request = null, string $contentType = self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        return $this->postApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $auction_line_item_create_model_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation postApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsyncWithHttpInfo
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemCreateModelRequest $auction_line_item_create_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function postApiV2ExternalCampaignAuctionLineItemsByCampaignIdAsyncWithHttpInfo($campaign_id, $auction_line_item_create_model_request = null, string $contentType = self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse';
        $request = $this->postApiV2ExternalCampaignAuctionLineItemsByCampaignIdRequest($campaign_id, $auction_line_item_create_model_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'postApiV2ExternalCampaignAuctionLineItemsByCampaignId'
     *
     * @param  string $campaign_id The given campaign id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemCreateModelRequest $auction_line_item_create_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function postApiV2ExternalCampaignAuctionLineItemsByCampaignIdRequest($campaign_id, $auction_line_item_create_model_request = null, string $contentType = self::contentTypes['postApiV2ExternalCampaignAuctionLineItemsByCampaignId'][0])
    {

        // verify the required parameter 'campaign_id' is set
        if ($campaign_id === null || (is_array($campaign_id) && count($campaign_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $campaign_id when calling postApiV2ExternalCampaignAuctionLineItemsByCampaignId'
            );
        }



        $resourcePath = '/2023-04/retail-media/campaigns/{campaign-id}/auction-line-items';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($campaign_id !== null) {
            $resourcePath = str_replace(
                '{' . 'campaign-id' . '}',
                ObjectSerializer::toPathValue($campaign_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($auction_line_item_create_model_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($auction_line_item_create_model_request));
            } else {
                $httpBody = $auction_line_item_create_model_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemByLineItemId
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemUpdateModel202110Request $preferred_line_item_update_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response
     */
    public function putApi202110ExternalPreferredLineItemByLineItemId($line_item_id, $preferred_line_item_update_model202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        list($response) = $this->putApi202110ExternalPreferredLineItemByLineItemIdWithHttpInfo($line_item_id, $preferred_line_item_update_model202110_request, $contentType);
        return $response;
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemUpdateModel202110Request $preferred_line_item_update_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response|\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApi202110ExternalPreferredLineItemByLineItemIdWithHttpInfo($line_item_id, $preferred_line_item_update_model202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        $request = $this->putApi202110ExternalPreferredLineItemByLineItemIdRequest($line_item_id, $preferred_line_item_update_model202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemByLineItemIdAsync
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemUpdateModel202110Request $preferred_line_item_update_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemByLineItemIdAsync($line_item_id, $preferred_line_item_update_model202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        return $this->putApi202110ExternalPreferredLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, $preferred_line_item_update_model202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemUpdateModel202110Request $preferred_line_item_update_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, $preferred_line_item_update_model202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\PreferredLineItem202110Response';
        $request = $this->putApi202110ExternalPreferredLineItemByLineItemIdRequest($line_item_id, $preferred_line_item_update_model202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApi202110ExternalPreferredLineItemByLineItemId'
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PreferredLineItemUpdateModel202110Request $preferred_line_item_update_model202110_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApi202110ExternalPreferredLineItemByLineItemIdRequest($line_item_id, $preferred_line_item_update_model202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling putApi202110ExternalPreferredLineItemByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($preferred_line_item_update_model202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($preferred_line_item_update_model202110_request));
            } else {
                $httpBody = $preferred_line_item_update_model202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Request $add_to_basket_target202110_request The add to basket target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response
     */
    public function putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId($line_item_id, $add_to_basket_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        list($response) = $this->putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdWithHttpInfo($line_item_id, $add_to_basket_target202110_request, $contentType);
        return $response;
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Request $add_to_basket_target202110_request The add to basket target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdWithHttpInfo($line_item_id, $add_to_basket_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        $request = $this->putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdRequest($line_item_id, $add_to_basket_target202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Request $add_to_basket_target202110_request The add to basket target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsync($line_item_id, $add_to_basket_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        return $this->putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsyncWithHttpInfo($line_item_id, $add_to_basket_target202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Request $add_to_basket_target202110_request The add to basket target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdAsyncWithHttpInfo($line_item_id, $add_to_basket_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Response';
        $request = $this->putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdRequest($line_item_id, $add_to_basket_target202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AddToBasketTarget202110Request $add_to_basket_target202110_request The add to basket target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemIdRequest($line_item_id, $add_to_basket_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling putApi202110ExternalPreferredLineItemTargetingAddToBasketByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/add-to-basket';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($add_to_basket_target202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($add_to_basket_target202110_request));
            } else {
                $httpBody = $add_to_basket_target202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Request $audience_target202110_request The audience target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response
     */
    public function putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId($line_item_id, $audience_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        list($response) = $this->putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdWithHttpInfo($line_item_id, $audience_target202110_request, $contentType);
        return $response;
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Request $audience_target202110_request The audience target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdWithHttpInfo($line_item_id, $audience_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        $request = $this->putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdRequest($line_item_id, $audience_target202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Request $audience_target202110_request The audience target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsync($line_item_id, $audience_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        return $this->putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsyncWithHttpInfo($line_item_id, $audience_target202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Request $audience_target202110_request The audience target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdAsyncWithHttpInfo($line_item_id, $audience_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Response';
        $request = $this->putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdRequest($line_item_id, $audience_target202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AudienceTarget202110Request $audience_target202110_request The audience target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemIdRequest($line_item_id, $audience_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling putApi202110ExternalPreferredLineItemTargetingAudiencesByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/audiences';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($audience_target202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($audience_target202110_request));
            } else {
                $httpBody = $audience_target202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Request $store_target202110_request The store target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response
     */
    public function putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId($line_item_id, $store_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        list($response) = $this->putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdWithHttpInfo($line_item_id, $store_target202110_request, $contentType);
        return $response;
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Request $store_target202110_request The store target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response|\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdWithHttpInfo($line_item_id, $store_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        $request = $this->putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdRequest($line_item_id, $store_target202110_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsync
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Request $store_target202110_request The store target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsync($line_item_id, $store_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        return $this->putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsyncWithHttpInfo($line_item_id, $store_target202110_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Request $store_target202110_request The store target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdAsyncWithHttpInfo($line_item_id, $store_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Response';
        $request = $this->putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdRequest($line_item_id, $store_target202110_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'
     *
     * @param  string $line_item_id The line item to interact with (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\StoreTarget202110Request $store_target202110_request The store target to set the scope for (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApi202110ExternalPreferredLineItemTargetingStoresByLineItemIdRequest($line_item_id, $store_target202110_request = null, string $contentType = self::contentTypes['putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling putApi202110ExternalPreferredLineItemTargetingStoresByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/preferred-line-items/{line-item-id}/targeting/stores';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($store_target202110_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($store_target202110_request));
            } else {
                $httpBody = $store_target202110_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApi202210ExternalAccountByAccountIdCreativescreativeId
     *
     * @param  string $account_id External account id containing the creative (required)
     * @param  string $creative_id Creative to update (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeUpdateModel202207 $creative_update_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\Creative202210Response
     */
    public function putApi202210ExternalAccountByAccountIdCreativescreativeId($account_id, $creative_id, $creative_update_model202207 = null, string $contentType = self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        list($response) = $this->putApi202210ExternalAccountByAccountIdCreativescreativeIdWithHttpInfo($account_id, $creative_id, $creative_update_model202207, $contentType);
        return $response;
    }

    /**
     * Operation putApi202210ExternalAccountByAccountIdCreativescreativeIdWithHttpInfo
     *
     * @param  string $account_id External account id containing the creative (required)
     * @param  string $creative_id Creative to update (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeUpdateModel202207 $creative_update_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\Creative202210Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApi202210ExternalAccountByAccountIdCreativescreativeIdWithHttpInfo($account_id, $creative_id, $creative_update_model202207 = null, string $contentType = self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        $request = $this->putApi202210ExternalAccountByAccountIdCreativescreativeIdRequest($account_id, $creative_id, $creative_update_model202207, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210Response' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\Creative202210Response' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApi202210ExternalAccountByAccountIdCreativescreativeIdAsync
     *
     * @param  string $account_id External account id containing the creative (required)
     * @param  string $creative_id Creative to update (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeUpdateModel202207 $creative_update_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202210ExternalAccountByAccountIdCreativescreativeIdAsync($account_id, $creative_id, $creative_update_model202207 = null, string $contentType = self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        return $this->putApi202210ExternalAccountByAccountIdCreativescreativeIdAsyncWithHttpInfo($account_id, $creative_id, $creative_update_model202207, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApi202210ExternalAccountByAccountIdCreativescreativeIdAsyncWithHttpInfo
     *
     * @param  string $account_id External account id containing the creative (required)
     * @param  string $creative_id Creative to update (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeUpdateModel202207 $creative_update_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202210ExternalAccountByAccountIdCreativescreativeIdAsyncWithHttpInfo($account_id, $creative_id, $creative_update_model202207 = null, string $contentType = self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\Creative202210Response';
        $request = $this->putApi202210ExternalAccountByAccountIdCreativescreativeIdRequest($account_id, $creative_id, $creative_update_model202207, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApi202210ExternalAccountByAccountIdCreativescreativeId'
     *
     * @param  string $account_id External account id containing the creative (required)
     * @param  string $creative_id Creative to update (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\CreativeUpdateModel202207 $creative_update_model202207 The creative to create (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApi202210ExternalAccountByAccountIdCreativescreativeIdRequest($account_id, $creative_id, $creative_update_model202207 = null, string $contentType = self::contentTypes['putApi202210ExternalAccountByAccountIdCreativescreativeId'][0])
    {

        // verify the required parameter 'account_id' is set
        if ($account_id === null || (is_array($account_id) && count($account_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $account_id when calling putApi202210ExternalAccountByAccountIdCreativescreativeId'
            );
        }

        // verify the required parameter 'creative_id' is set
        if ($creative_id === null || (is_array($creative_id) && count($creative_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $creative_id when calling putApi202210ExternalAccountByAccountIdCreativescreativeId'
            );
        }



        $resourcePath = '/2023-04/retail-media/accounts/{account-id}/creatives/{creative-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($account_id !== null) {
            $resourcePath = str_replace(
                '{' . 'account-id' . '}',
                ObjectSerializer::toPathValue($account_id),
                $resourcePath
            );
        }
        // path params
        if ($creative_id !== null) {
            $resourcePath = str_replace(
                '{' . 'creative-id' . '}',
                ObjectSerializer::toPathValue($creative_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($creative_update_model202207)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($creative_update_model202207));
            } else {
                $httpBody = $creative_update_model202207;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApi202301ExternalCampaignByCampaignId
     *
     * @param  string $campaign_id Campaign Id of the updating campaign (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PutCampaignV202301 $put_campaign_v202301 Editable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301
     */
    public function putApi202301ExternalCampaignByCampaignId($campaign_id, $put_campaign_v202301 = null, string $contentType = self::contentTypes['putApi202301ExternalCampaignByCampaignId'][0])
    {
        list($response) = $this->putApi202301ExternalCampaignByCampaignIdWithHttpInfo($campaign_id, $put_campaign_v202301, $contentType);
        return $response;
    }

    /**
     * Operation putApi202301ExternalCampaignByCampaignIdWithHttpInfo
     *
     * @param  string $campaign_id Campaign Id of the updating campaign (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PutCampaignV202301 $put_campaign_v202301 Editable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApi202301ExternalCampaignByCampaignIdWithHttpInfo($campaign_id, $put_campaign_v202301 = null, string $contentType = self::contentTypes['putApi202301ExternalCampaignByCampaignId'][0])
    {
        $request = $this->putApi202301ExternalCampaignByCampaignIdRequest($campaign_id, $put_campaign_v202301, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApi202301ExternalCampaignByCampaignIdAsync
     *
     * @param  string $campaign_id Campaign Id of the updating campaign (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PutCampaignV202301 $put_campaign_v202301 Editable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202301ExternalCampaignByCampaignIdAsync($campaign_id, $put_campaign_v202301 = null, string $contentType = self::contentTypes['putApi202301ExternalCampaignByCampaignId'][0])
    {
        return $this->putApi202301ExternalCampaignByCampaignIdAsyncWithHttpInfo($campaign_id, $put_campaign_v202301, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApi202301ExternalCampaignByCampaignIdAsyncWithHttpInfo
     *
     * @param  string $campaign_id Campaign Id of the updating campaign (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PutCampaignV202301 $put_campaign_v202301 Editable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202301ExternalCampaignByCampaignIdAsyncWithHttpInfo($campaign_id, $put_campaign_v202301 = null, string $contentType = self::contentTypes['putApi202301ExternalCampaignByCampaignId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\JsonApiSingleResponseOfCampaignV202301';
        $request = $this->putApi202301ExternalCampaignByCampaignIdRequest($campaign_id, $put_campaign_v202301, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApi202301ExternalCampaignByCampaignId'
     *
     * @param  string $campaign_id Campaign Id of the updating campaign (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\PutCampaignV202301 $put_campaign_v202301 Editable campaign attributes (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalCampaignByCampaignId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApi202301ExternalCampaignByCampaignIdRequest($campaign_id, $put_campaign_v202301 = null, string $contentType = self::contentTypes['putApi202301ExternalCampaignByCampaignId'][0])
    {

        // verify the required parameter 'campaign_id' is set
        if ($campaign_id === null || (is_array($campaign_id) && count($campaign_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $campaign_id when calling putApi202301ExternalCampaignByCampaignId'
            );
        }



        $resourcePath = '/2023-04/retail-media/campaigns/{campaignId}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($campaign_id !== null) {
            $resourcePath = str_replace(
                '{' . 'campaignId' . '}',
                ObjectSerializer::toPathValue($campaign_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($put_campaign_v202301)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($put_campaign_v202301));
            } else {
                $httpBody = $put_campaign_v202301;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApi202301ExternalLineItemBidMultipliersByLineItemId
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersRequest $line_item_bid_multipliers_request line_item_bid_multipliers_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse
     */
    public function putApi202301ExternalLineItemBidMultipliersByLineItemId($line_item_id, $line_item_bid_multipliers_request = null, string $contentType = self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        list($response) = $this->putApi202301ExternalLineItemBidMultipliersByLineItemIdWithHttpInfo($line_item_id, $line_item_bid_multipliers_request, $contentType);
        return $response;
    }

    /**
     * Operation putApi202301ExternalLineItemBidMultipliersByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersRequest $line_item_bid_multipliers_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApi202301ExternalLineItemBidMultipliersByLineItemIdWithHttpInfo($line_item_id, $line_item_bid_multipliers_request = null, string $contentType = self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        $request = $this->putApi202301ExternalLineItemBidMultipliersByLineItemIdRequest($line_item_id, $line_item_bid_multipliers_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApi202301ExternalLineItemBidMultipliersByLineItemIdAsync
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersRequest $line_item_bid_multipliers_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202301ExternalLineItemBidMultipliersByLineItemIdAsync($line_item_id, $line_item_bid_multipliers_request = null, string $contentType = self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        return $this->putApi202301ExternalLineItemBidMultipliersByLineItemIdAsyncWithHttpInfo($line_item_id, $line_item_bid_multipliers_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApi202301ExternalLineItemBidMultipliersByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersRequest $line_item_bid_multipliers_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApi202301ExternalLineItemBidMultipliersByLineItemIdAsyncWithHttpInfo($line_item_id, $line_item_bid_multipliers_request = null, string $contentType = self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersResponse';
        $request = $this->putApi202301ExternalLineItemBidMultipliersByLineItemIdRequest($line_item_id, $line_item_bid_multipliers_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApi202301ExternalLineItemBidMultipliersByLineItemId'
     *
     * @param  string $line_item_id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\LineItemBidMultipliersRequest $line_item_bid_multipliers_request (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApi202301ExternalLineItemBidMultipliersByLineItemIdRequest($line_item_id, $line_item_bid_multipliers_request = null, string $contentType = self::contentTypes['putApi202301ExternalLineItemBidMultipliersByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling putApi202301ExternalLineItemBidMultipliersByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/line-items/{line-item-id}/bid-multipliers';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($line_item_bid_multipliers_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($line_item_bid_multipliers_request));
            } else {
                $httpBody = $line_item_bid_multipliers_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation putApiV2ExternalAuctionLineItemByLineItemId
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemUpdateModelRequest $auction_line_item_update_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse
     */
    public function putApiV2ExternalAuctionLineItemByLineItemId($line_item_id, $auction_line_item_update_model_request = null, string $contentType = self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        list($response) = $this->putApiV2ExternalAuctionLineItemByLineItemIdWithHttpInfo($line_item_id, $auction_line_item_update_model_request, $contentType);
        return $response;
    }

    /**
     * Operation putApiV2ExternalAuctionLineItemByLineItemIdWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemUpdateModelRequest $auction_line_item_update_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse|\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function putApiV2ExternalAuctionLineItemByLineItemIdWithHttpInfo($line_item_id, $auction_line_item_update_model_request = null, string $contentType = self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        $request = $this->putApiV2ExternalAuctionLineItemByLineItemIdRequest($line_item_id, $auction_line_item_update_model_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                case 400:
                    if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation putApiV2ExternalAuctionLineItemByLineItemIdAsync
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemUpdateModelRequest $auction_line_item_update_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApiV2ExternalAuctionLineItemByLineItemIdAsync($line_item_id, $auction_line_item_update_model_request = null, string $contentType = self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        return $this->putApiV2ExternalAuctionLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, $auction_line_item_update_model_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation putApiV2ExternalAuctionLineItemByLineItemIdAsyncWithHttpInfo
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemUpdateModelRequest $auction_line_item_update_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function putApiV2ExternalAuctionLineItemByLineItemIdAsyncWithHttpInfo($line_item_id, $auction_line_item_update_model_request = null, string $contentType = self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\AuctionLineItemResponse';
        $request = $this->putApiV2ExternalAuctionLineItemByLineItemIdRequest($line_item_id, $auction_line_item_update_model_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'putApiV2ExternalAuctionLineItemByLineItemId'
     *
     * @param  string $line_item_id The given line item id (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\AuctionLineItemUpdateModelRequest $auction_line_item_update_model_request The line item settings to create a line item with (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function putApiV2ExternalAuctionLineItemByLineItemIdRequest($line_item_id, $auction_line_item_update_model_request = null, string $contentType = self::contentTypes['putApiV2ExternalAuctionLineItemByLineItemId'][0])
    {

        // verify the required parameter 'line_item_id' is set
        if ($line_item_id === null || (is_array($line_item_id) && count($line_item_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $line_item_id when calling putApiV2ExternalAuctionLineItemByLineItemId'
            );
        }



        $resourcePath = '/2023-04/retail-media/auction-line-items/{line-item-id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($line_item_id !== null) {
            $resourcePath = str_replace(
                '{' . 'line-item-id' . '}',
                ObjectSerializer::toPathValue($line_item_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($auction_line_item_update_model_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($auction_line_item_update_model_request));
            } else {
                $httpBody = $auction_line_item_update_model_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'PUT',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation setKeywordBids
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1SetBidsModelRequest $retail_media_externalv1_set_bids_model_request Object containing a list of bid overrides for associated keywords (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setKeywordBids'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome
     */
    public function setKeywordBids($id, $retail_media_externalv1_set_bids_model_request = null, string $contentType = self::contentTypes['setKeywordBids'][0])
    {
        list($response) = $this->setKeywordBidsWithHttpInfo($id, $retail_media_externalv1_set_bids_model_request, $contentType);
        return $response;
    }

    /**
     * Operation setKeywordBidsWithHttpInfo
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1SetBidsModelRequest $retail_media_externalv1_set_bids_model_request Object containing a list of bid overrides for associated keywords (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setKeywordBids'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome, HTTP status code, HTTP response headers (array of strings)
     */
    public function setKeywordBidsWithHttpInfo($id, $retail_media_externalv1_set_bids_model_request = null, string $contentType = self::contentTypes['setKeywordBids'][0])
    {
        $request = $this->setKeywordBidsRequest($id, $retail_media_externalv1_set_bids_model_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation setKeywordBidsAsync
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1SetBidsModelRequest $retail_media_externalv1_set_bids_model_request Object containing a list of bid overrides for associated keywords (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setKeywordBids'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function setKeywordBidsAsync($id, $retail_media_externalv1_set_bids_model_request = null, string $contentType = self::contentTypes['setKeywordBids'][0])
    {
        return $this->setKeywordBidsAsyncWithHttpInfo($id, $retail_media_externalv1_set_bids_model_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation setKeywordBidsAsyncWithHttpInfo
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1SetBidsModelRequest $retail_media_externalv1_set_bids_model_request Object containing a list of bid overrides for associated keywords (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setKeywordBids'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function setKeywordBidsAsyncWithHttpInfo($id, $retail_media_externalv1_set_bids_model_request = null, string $contentType = self::contentTypes['setKeywordBids'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ResourceOutcome';
        $request = $this->setKeywordBidsRequest($id, $retail_media_externalv1_set_bids_model_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'setKeywordBids'
     *
     * @param  string $id Long external id of the associated line item (required)
     * @param  \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1SetBidsModelRequest $retail_media_externalv1_set_bids_model_request Object containing a list of bid overrides for associated keywords (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setKeywordBids'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function setKeywordBidsRequest($id, $retail_media_externalv1_set_bids_model_request = null, string $contentType = self::contentTypes['setKeywordBids'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling setKeywordBids'
            );
        }



        $resourcePath = '/2023-04/retail-media/line-items/{id}/keywords/set-bid';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($retail_media_externalv1_set_bids_model_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($retail_media_externalv1_set_bids_model_request));
            } else {
                $httpBody = $retail_media_externalv1_set_bids_model_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation submitProposal
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitProposal'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse
     */
    public function submitProposal($id, string $contentType = self::contentTypes['submitProposal'][0])
    {
        list($response) = $this->submitProposalWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation submitProposalWithHttpInfo
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitProposal'] to see the possible values for this operation
     *
     * @throws \criteo\api\retailmedia\v2023_04\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse, HTTP status code, HTTP response headers (array of strings)
     */
    public function submitProposalWithHttpInfo($id, string $contentType = self::contentTypes['submitProposal'][0])
    {
        $request = $this->submitProposalRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            switch($statusCode) {
                case 200:
                    if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ('\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse' !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse', []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
            }

            $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse';
            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
                if ($returnType !== 'string') {
                    $content = json_decode($content);
                }
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders()
            ];

        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation submitProposalAsync
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitProposal'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function submitProposalAsync($id, string $contentType = self::contentTypes['submitProposal'][0])
    {
        return $this->submitProposalAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation submitProposalAsyncWithHttpInfo
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitProposal'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function submitProposalAsyncWithHttpInfo($id, string $contentType = self::contentTypes['submitProposal'][0])
    {
        $returnType = '\criteo\api\retailmedia\v2023_04\Model\RetailMediaExternalv1ProposalStatusModelResponse';
        $request = $this->submitProposalRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'submitProposal'
     *
     * @param  string $id The external id of a line item. (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitProposal'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function submitProposalRequest($id, string $contentType = self::contentTypes['submitProposal'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling submitProposal'
            );
        }


        $resourcePath = '/2023-04/retail-media/preferred-deal-line-items/{id}/proposal/submit';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['text/plain', 'application/json', 'text/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }
        // this endpoint requires OAuth (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Create http client option
     *
     * @throws \RuntimeException on file opening failure
     * @return array of http client options
     */
    protected function createHttpClientOption()
    {
        $options = [];
        if ($this->config->getDebug()) {
            $options[RequestOptions::DEBUG] = fopen($this->config->getDebugFile(), 'a');
            if (!$options[RequestOptions::DEBUG]) {
                throw new \RuntimeException('Failed to open the debug file: ' . $this->config->getDebugFile());
            }
        }

        return $options;
    }
}
